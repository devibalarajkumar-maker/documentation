<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-rubik-pi-3-user-manual/peripherals-and-interfaces" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">2. 外设与接口 | RUBIK Pi Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.thundercomm.com/rubik-pi-3/cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.thundercomm.com/rubik-pi-3/cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.thundercomm.com/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/peripherals-and-interfaces"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="2. 外设与接口 | RUBIK Pi Documentation"><link data-rh="true" rel="icon" href="/rubik-pi-3/cn/img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.thundercomm.com/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/peripherals-and-interfaces"><link data-rh="true" rel="alternate" href="https://www.thundercomm.com/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/peripherals-and-interfaces" hreflang="zh"><link data-rh="true" rel="alternate" href="https://www.thundercomm.com/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/peripherals-and-interfaces" hreflang="x-default"><script src="https://hm.baidu.com/hm.js?cd51725dd2087a36c61e7b2d17d7817b" async></script>
<script src="/rubik-pi-3/cn/js/feedback.js" async></script><link rel="stylesheet" href="/rubik-pi-3/cn/assets/css/styles.59ddeac5.css">
<script src="/rubik-pi-3/cn/assets/js/runtime~main.4bcebb03.js" defer="defer"></script>
<script src="/rubik-pi-3/cn/assets/js/main.226d0d5a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rubik-pi-3/cn/"><div class="navbar__logo"><img src="/rubik-pi-3/cn/img/rubik-pi-logo.png" alt="RUBIK Pi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rubik-pi-3/cn/img/rubik-pi-logo.png" alt="RUBIK Pi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual">RUBIK Pi 3 文档及资源</a><a href="https://www.thundercomm.com/zh/product/rubik-pi/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">产品详情<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rubikpi-ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item"><a href="https://www.thundercomm.com/rubik-pi-3/en/docs/rubik-pi-3-user-manual" target="_blank"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual">RUBIK Pi 3 用户手册</a><button aria-label="折叠侧边栏分类 &#x27;RUBIK Pi 3 用户手册&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/quick-start">1. 快速开始</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/peripherals-and-interfaces">2. 外设与接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/ai-hub">3. Qualcomm AI Hub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/qim">4. Qualcomm IM SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/lvgl">5. LVGL使用指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/qt5">6. QT5 使用指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/Porting">7. 工具&amp;库移植指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/github">8. Github操作指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/ros">9. ROS 使用指南</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rubik-pi-3/cn/docs/hardware-resources">硬件资料</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rubik-pi-3/cn/docs/image">系统镜像</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/rubik-pi-3/cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual"><span itemprop="name">RUBIK Pi 3 用户手册</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">2. 外设与接口</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>2. 外设与接口</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="21-硬件资源图">2.1 硬件资源图<a href="#21-硬件资源图" class="hash-link" aria-label="2.1 硬件资源图的直接链接" title="2.1 硬件资源图的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-61-d0f64b7e485874387cadcbc61b2e0f4e.png" width="549" height="831" class="img_ev3q"></p>
<table><thead><tr><th>序号</th><th>接口</th><th>序号</th><th>接口</th></tr></thead><tbody><tr><td>1</td><td>RTC 电池接口</td><td>10</td><td>Power Delivery over Type-C</td></tr><tr><td>2</td><td>Micro USB (UART 调试)</td><td>11</td><td>Power on 按键</td></tr><tr><td>3</td><td>QCS6490 模组</td><td>12</td><td>EDL 按键</td></tr><tr><td>4</td><td>3.5mm 耳机接口</td><td>13</td><td>摄像头接口 1</td></tr><tr><td>5</td><td>USB Type-C with DP (USB3.1)</td><td>14</td><td>摄像头接口 2</td></tr><tr><td>6</td><td>USB Type-A (USB2.0)</td><td>15</td><td>Wi-Fi/BT 模块</td></tr><tr><td>7</td><td>2 x USB Type- A (USB3.0)</td><td>16</td><td>风扇接口</td></tr><tr><td>8</td><td>1000M 以太网</td><td>17</td><td>40-pin 连接器</td></tr><tr><td>9</td><td>HDMI OUT</td><td>18</td><td>M.2 Key M 接口</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-40-pin-连接器">2.2 40 pin 连接器<a href="#22-40-pin-连接器" class="hash-link" aria-label="2.2 40 pin 连接器的直接链接" title="2.2 40 pin 连接器的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="221-gpio">2.2.1 GPIO<a href="#221-gpio" class="hash-link" aria-label="2.2.1 GPIO的直接链接" title="2.2.1 GPIO的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2211-引脚分布">2.2.1.1 引脚分布<a href="#2211-引脚分布" class="hash-link" aria-label="2.2.1.1 引脚分布的直接链接" title="2.2.1.1 引脚分布的直接链接">​</a></h4>
<p>在用户空间使用 GPIO 时，通常需要使用 GPIO 的引脚编号，可以通过下表进行确认，下表中表明了 40 pin 连接器上的引脚功能，如13号引脚的引脚名称为 GPIO_24, GPIO 子系统的引脚编号为559。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/20241203_171804_image-3f2dd4eeea6731b09522e695957dbba0.png" width="761" height="612" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2212-使用shell命令控制">2.2.1.2 使用shell命令控制<a href="#2212-使用shell命令控制" class="hash-link" aria-label="2.2.1.2 使用shell命令控制的直接链接" title="2.2.1.2 使用shell命令控制的直接链接">​</a></h4>
<p>在 RUBIK Pi 3 中执行下面的步骤控制 GPIO</p>
<ul>
<li>进入 <em>/sys/class/gpio</em> 目录：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /sys/class/gpio</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将要控制的 GPI O导出，如控制13号引脚 GPIO_24：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 559 &gt; export</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>进入到 <em>gpio559</em>  目录设置 GPIO 属性：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd gpio559</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ls</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Alt text" src="/rubik-pi-3/cn/assets/images/2-image-6-260543a856de9c78ee65815fa7514a3a.png" width="569" height="150" class="img_ev3q"></p>
<p>direction（方向）：</p>
<ul>
<li>输入：in</li>
<li>输出：out</li>
</ul>
<p>value（值）：</p>
<ul>
<li>低电平：0</li>
<li>高电平：1</li>
</ul>
<p>edge （中断边沿）：</p>
<ul>
<li>上升沿触发：rising</li>
<li>下降沿触发：falling</li>
<li>双边沿触发：both</li>
<li>禁用中断：none</li>
</ul>
<p>如设置13号引脚输出高电平：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo out &gt; direction</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 1 &gt; value</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>取消导出13号引脚到用户空间：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 559 &gt; unexport</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2213-使用python程序控制">2.2.1.3 使用Python程序控制<a href="#2213-使用python程序控制" class="hash-link" aria-label="2.2.1.3 使用Python程序控制的直接链接" title="2.2.1.3 使用Python程序控制的直接链接">​</a></h4>
<ul>
<li>可使用 Python 的 periphery 库控制 GPIO，可在 RUBIK Pi 3 中使用下面命令进行安装：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pip3 install python-periphery </span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>下方截取代码是使用 periphery 库操作 GPIO 的示例，其中将13号引脚设置为输出，15号引脚设置为输入，循环检测15号引脚的电平状态。</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> periphery </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> GPIO</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">out_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GPIO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">559</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;out&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">in_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GPIO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">560</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;in&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            pin_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;in_gpio level: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">pin_level</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            pin_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;in_gpio level: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">pin_level</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> KeyboardInterrupt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> IOError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    in_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将 <em>gpio.py </em> 传输到 RUBIK Pi 3 中，如使用 ADB 传输。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push gpio.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将13和15号引脚使用杜邦线短接测试 GPIO 电平控制和电平读取情况，如下图所示：</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-63-4bc15b506fce5abbbf8f1f5235f241e7.jpg" width="1000" height="696" class="img_ev3q"></p>
<p>程序运行结果如下：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 gpio.py</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Alt text" src="/rubik-pi-3/cn/assets/images/image-b0f9d3e4caebe8f18ab77e431139dd77.png" width="414" height="245" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2214-使用c语言程序控制">2.2.1.4 使用C语言程序控制<a href="#2214-使用c语言程序控制" class="hash-link" aria-label="2.2.1.4 使用C语言程序控制的直接链接" title="2.2.1.4 使用C语言程序控制的直接链接">​</a></h4>
<ul>
<li>以下代码示例，代码将13号引脚设置为输出15号引脚设置为输入，循环检测15号引脚的电平状态：</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> out_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">559</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> in_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">560</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> export_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> export_command</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/export&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> export_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> export_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> direction_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/direction&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    FILE </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">direction_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open GPIO direction file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;out&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/direction&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    direction_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open GPIO direction file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;in&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> value_in_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> value_out_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> cat_command</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/value&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_in_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_in_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/value&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cat %s&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value_in_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    FILE </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">value_out_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open GPIO value file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> unexport_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> unexport_command</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/unexport&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unexport_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unexport_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>交叉编译程序，具体可参考 1.11.3 交叉编译工具使用方法章节：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">aarch64-qcom-linux-gcc gpio.c -o gpio --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将 <em>gpio</em> 传输到 RUBIK Pi 3 中，如使用 ADB 传输：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push gpio /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将13和15号引脚使用杜邦线短接，测试 GPIO 电平控制和电平读取情况，如下图所示，程序运行结果如下：</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-62-01ab8b85b3d395758670af9f16db692c.jpg" width="1280" height="897" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./gpio</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="364" height="268" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="222-i2c">2.2.2 I2C<a href="#222-i2c" class="hash-link" aria-label="2.2.2 I2C的直接链接" title="2.2.2 I2C的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2221-引脚分布">2.2.2.1 引脚分布<a href="#2221-引脚分布" class="hash-link" aria-label="2.2.2.1 引脚分布的直接链接" title="2.2.2.1 引脚分布的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Alt text" src="/rubik-pi-3/cn/assets/images/2-image-a60627d07cfb61ed3f4f34c9e3e0f9b3.png" width="762" height="597" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>3号引脚和5号引脚默认已设置配为 I2C1。</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2222-使用-shell-命令测试">2.2.2.2 使用 shell 命令测试<a href="#2222-使用-shell-命令测试" class="hash-link" aria-label="2.2.2.2 使用 shell 命令测试的直接链接" title="2.2.2.2 使用 shell 命令测试的直接链接">​</a></h4>
<p>在 RUBIK Pi 3 中执行下面步骤控制 I2C 总线</p>
<ul>
<li>查看I2C1接口上的设备：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">i2cdetect -a -y -r 1</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>读取地址为0x38设备的全部寄存器：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">i2cdump -f -y 3 0x38</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>向地址为0x38设备的0x01寄存器地址写入0xaa：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">i2cset -f -y 1 0x38 0x01 0xaa</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>读取地址为0x38的设备，寄存器地址为0x01处的数值：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">i2cget -f -y 1 0x38 0x01</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2223-使用-python-程序-i2c-通信">2.2.2.3 使用 Python 程序 I2C 通信<a href="#2223-使用-python-程序-i2c-通信" class="hash-link" aria-label="2.2.2.3 使用 Python 程序 I2C 通信的直接链接" title="2.2.2.3 使用 Python 程序 I2C 通信的直接链接">​</a></h4>
<ul>
<li>可使用 Python 的 smbus 库控制 I2C，可在 RUBIK Pi 3 中使用下面命令进行安装：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pip3 install smbus</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>以下代码示例，使用 I2C1 总线和地址为0x38的设备进行通信，向设备0x01地址处写入0xaa：</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> smbus</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0x01</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xaa</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        i2c_bus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> smbus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SMBus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;i2cdetect addr : &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> address </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0x7F</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                i2c_bus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write_i2c_block_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">address</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0x{:02X},&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">address</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> OSError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;An error occurred: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> i2c_bus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            i2c_bus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将<em>i2c.py</em>传输到 RUBIK Pi 3 中，如果使用 adb 传输，命令如下：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push i2c.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将3和5号引脚连接 I2C 传感器，验证 I2C 总线通信，如下图所示:</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-60-19aadc7c13fa0591613b805f13b66ece.jpg" width="1000" height="750" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 i2c.py </span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>程序运行结果如下：</p>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="311" height="77" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2224-使用c语言程序-i2c-通信">2.2.2.4 使用C语言程序 I2C 通信<a href="#2224-使用c语言程序-i2c-通信" class="hash-link" aria-label="2.2.2.4 使用C语言程序 I2C 通信的直接链接" title="2.2.2.4 使用C语言程序 I2C 通信的直接链接">​</a></h4>
<ul>
<li>以下代码示例，I2C1 总线和地址为0x38的设备进行通信，向设备0x01地址处写入0xaa：</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdint.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;fcntl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;linux/i2c-dev.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;sys/ioctl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">I2C_DEVICE_PATH</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;/dev/i2c-1&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0x01</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0xaa</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">i2c_device </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I2C_DEVICE_PATH</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i2c_file</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_device</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> O_RDWR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open I2C device&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> I2C_TENBIT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> I2C_RETRIES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;i2cdetect addr : &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x7f</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> I2C_SLAVE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to set I2C slave address&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0x%x,&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\r\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>交叉编译程序，具体可参考1.11.3交叉编译工具使用方法章节：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">aarch64-qcom-linux-gcc i2c.c -o i2c --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将<em>i2c</em>传输到 RUBIK Pi 3 中，如果使用 ADB 传输，命令如下：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push i2c /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将3和5号引脚连接 I2C 传感器，验证 I2C 总线通信，如下图所示:</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-59-e2a04c618d8ec1eabc25c6a716d2c555.jpg" width="1000" height="750" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./i2c</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>程序运行结果如下：</p>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="316" height="80" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="223-spi">2.2.3 SPI<a href="#223-spi" class="hash-link" aria-label="2.2.3 SPI的直接链接" title="2.2.3 SPI的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2231-引脚分布">2.2.3.1 引脚分布<a href="#2231-引脚分布" class="hash-link" aria-label="2.2.3.1 引脚分布的直接链接" title="2.2.3.1 引脚分布的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Alt text" src="/rubik-pi-3/cn/assets/images/2-image-1-67855028f72186ecf63388c47c9bfe80.png" width="762" height="596" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>19号、21号、23号、24号 引脚默认已设置配为SPI。</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2232-使用-python-程序-spi-通信">2.2.3.2 使用 Python 程序 SPI 通信<a href="#2232-使用-python-程序-spi-通信" class="hash-link" aria-label="2.2.3.2 使用 Python 程序 SPI 通信的直接链接" title="2.2.3.2 使用 Python 程序 SPI 通信的直接链接">​</a></h4>
<ul>
<li>可使用 Python 的 spidev 库进行SPI通信，spidev 库可在 RUBIK Pi 3 中使用下面命令进行安装：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pip3 install spidev</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>以下代码示例，代码使用 SPI 总线进行数据收发通信：</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spidev</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tx_buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">ord</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> char </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello world!&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    rx_buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        spi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spidev</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SpiDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">max_speed_hz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000000</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        rx_buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xfer2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;tx_buffer:\n\r&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">chr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;rx_buffer:\n\r&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">chr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;An error occurred: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> spi</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将<em>spi.py</em>传输到 RUBIK Pi 3 中，如果使用 ADB 传输，命令如下：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push spi.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将19号引脚和21号引脚使用杜邦线短接，验证 SPI 总线通信，如下图所示：</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_96212608-7b28-4789-9132-88283af5861g-1-068bd0693941df14213349defd3227bd.jpg" width="1280" height="960" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 spi.py </span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>程序运行结果如下：</p>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="274" height="124" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2233-使用c语言程序-spi-通信">2.2.3.3 使用C语言程序 SPI 通信<a href="#2233-使用c语言程序-spi-通信" class="hash-link" aria-label="2.2.3.3 使用C语言程序 SPI 通信的直接链接" title="2.2.3.3 使用C语言程序 SPI 通信的直接链接">​</a></h4>
<ul>
<li>以下代码示例，代码使用 SPI 总线进行数据收发通信：</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdint.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;fcntl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;linux/spi/spidev.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;sys/ioctl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">SPI_DEVICE_PATH</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;/dev/spidev12.0&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> spi_file</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello world!&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Open the SPI device</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SPI_DEVICE_PATH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> O_RDWR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open SPI device&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Configure SPI mode and bits per word</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SPI_MODE_0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> bits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SPI_IOC_WR_MODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to set SPI mode&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SPI_IOC_WR_BITS_PER_WORD</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">bits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to set SPI bits per word&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Perform SPI transfer</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">spi_ioc_transfer</span><span class="token plain"> transfer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tx_buf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rx_buf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">rx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">delay_usecs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">speed_hz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// SPI speed in Hz</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bits_per_word </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SPI_IOC_MESSAGE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">transfer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to perform SPI transfer&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">/* Print tx_buffer and rx_buffer*/</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rtx_buffer: \n %s\n &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rrx_buffer: \n %s\n &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Close the SPI device</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>交叉编译程序，具体可参考1.11.3交叉编译工具使用方法章节：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">aarch64-qcom-linux-gcc spi.c -o spi --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将spi传输到 RUBIK Pi 3 中，如果使用 ADB 传输，命令如下：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push spi /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将19号引脚和21号引脚使用杜邦线短接，验证 SPI 总线通信，如下图所示：</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_96212608-7b28-4789-9132-88283af5861g-068bd0693941df14213349defd3227bd.jpg" width="1280" height="960" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./spi</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>程序执行结果如下：</p>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="231" height="146" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="224-uart">2.2.4 UART<a href="#224-uart" class="hash-link" aria-label="2.2.4 UART的直接链接" title="2.2.4 UART的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2241-引脚分布">2.2.4.1 引脚分布<a href="#2241-引脚分布" class="hash-link" aria-label="2.2.4.1 引脚分布的直接链接" title="2.2.4.1 引脚分布的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Alt text" src="/rubik-pi-3/cn/assets/images/2-image-2-2acda09369955b234f3569e2523a8202.png" width="762" height="597" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>8号和10号引脚默认已设置配为 UART，设备节点为 <em>/dev/ttyHS3</em>。</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2242-使用shell命令测试">2.2.4.2 使用shell命令测试<a href="#2242-使用shell命令测试" class="hash-link" aria-label="2.2.4.2 使用shell命令测试的直接链接" title="2.2.4.2 使用shell命令测试的直接链接">​</a></h4>
<p>在 RUBIK Pi 3 中 使用下面命令控制串口通信</p>
<ul>
<li>使用 stty 工具配置串口，如下将串口的输入速率和输出速率都设置为115200，并关闭回显：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">stty -F /dev/ttyHS3 ispeed 115200 ospeed 115200</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">stty -F /dev/ttyHS3 -echo</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>在 RUBIK Pi 3 上开启两个终端，将8号引脚和10号引脚使用杜邦线短接，分别执行下面命令，接收端会回显发送端的内容：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &quot;hello world!&quot; &gt; /dev/ttyHS3  #发送端</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cat /dev/ttyHS3 #接收端</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-58-527f6e23a56848670cf8ea56b1302a55.jpg" width="960" height="884" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2243-使用-python-程序-uart-通信">2.2.4.3 使用 Python 程序 UART 通信<a href="#2243-使用-python-程序-uart-通信" class="hash-link" aria-label="2.2.4.3 使用 Python 程序 UART 通信的直接链接" title="2.2.4.3 使用 Python 程序 UART 通信的直接链接">​</a></h4>
<ul>
<li>可使用 Python 的 serial 库进行 UART 通信，可在 RUBIK Pi 3 中使用下面命令进行安装：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pip3 install pyserial</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>以下代码示例，使用UART进行数据收发通信：</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> serial</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;/dev/ttyHS3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    baudrate</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">115200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    bytesize</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EIGHTBITS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    stopbits</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">STOPBITS_ONE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    parity</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PARITY_NONE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> uart3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    uart3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">b&quot;Hello World!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    buf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> uart3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Raw data:\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    data_strings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;utf-8&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Read {:d} bytes, printed as string:\n {:s}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_strings</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将<em>uart.py</em>传输到 RUBIK Pi 3 中，如果使用 ADB 传输，命令如下：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push uart.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将8号引脚和10号引脚使用杜邦线短接，验证串口通信，如下图所示：</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-57-264c59608cd44ec4c7410ff32ca3843b.jpg" width="960" height="839" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 uart.py </span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>程序执行结果如下：</p>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="435" height="133" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2244-使用c语言程序-uart-通信">2.2.4.4 使用C语言程序 UART 通信<a href="#2244-使用c语言程序-uart-通信" class="hash-link" aria-label="2.2.4.4 使用C语言程序 UART 通信的直接链接" title="2.2.4.4 使用C语言程序 UART 通信的直接链接">​</a></h4>
<ul>
<li>以下代码示例，使用 UART 进行数据收发通信：</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;string.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;fcntl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;termios.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> serial_port_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> serial_port</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_port</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;/dev/ttyHS%d&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">serial_port_num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> serial_fd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    serial_fd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_port</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> O_RDWR </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> O_NOCTTY</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open serial port&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">termios</span><span class="token plain"> tty</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">tcgetattr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error from tcgetattr&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">cfsetospeed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> B9600</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">cfsetispeed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> B9600</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">&amp;=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">PARENB</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">&amp;=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">CSTOPB</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">&amp;=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">CSIZE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> CS8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">tcsetattr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> TCSANOW</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error from tcsetattr&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello world!\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">ssize_t</span><span class="token plain"> bytes_written </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes_written </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error writing to serial port&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rtx_buffer: \n %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">256</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bytes_read </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes_read </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        rx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">bytes_read</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rrx_buffer: \n %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;No data received.\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>交叉编译程序，具体可参考1.11.3交叉编译工具使用方法章节：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">aarch64-qcom-linux-gcc uart.c -o uart --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将<em>uart</em>传输到 RUBIK Pi 3 中，如果使用 ADB 传输，命令如下：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">adb push uart /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>将8号引脚和10号引脚使用杜邦线短接，验证串口通信，如下图所示：</li>
</ul>
<p>![](images/image-56.jpg</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./uart</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>，程序执行结果如下：</p>
<p><img decoding="async" loading="lazy" alt="Alt text" src="/rubik-pi-3/cn/assets/images/image-1-9b362e70306fa3f955303ba0c700ac03.png" width="249" height="133" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="23-usb">2.3 USB<a href="#23-usb" class="hash-link" aria-label="2.3 USB的直接链接" title="2.3 USB的直接链接">​</a></h2>
<p>RUBIK Pi 3 拥有4个 USB 口：</p>
<ul>
<li>两个 USB3.0 口，只能作为主机模式使用，如下图7。</li>
<li>一个 USB2.0 口，可以作为主机或设备模式使用，如下图6。</li>
<li>一个 USB3.1 Gen 1 口，可以作为主机或设备模式，以及 DP 显示使用，如下图5。</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-55-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="231-usb20-接口">2.3.1 USB2.0 接口<a href="#231-usb20-接口" class="hash-link" aria-label="2.3.1 USB2.0 接口的直接链接" title="2.3.1 USB2.0 接口的直接链接">​</a></h3>
<p>USB2.0接口作为 device 模式时需要手动执行命令切换，如下为一种测试方式，在 RUBIK Pi 3 中输入下面命令，将 RUBIK Pi 3 模拟为U盘：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /sys/kernel/config/usb_gadget/  #在串口终端登录，执行下面命令</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir g1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd g1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir functions/mass_storage.0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dd if=/dev/zero of=/tmp/test.iso bs=1M count=2048  #创建大小为2G的U盘空间</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkfs.ext4 /tmp/test.iso </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &quot;/tmp/test.iso&quot; &gt; functions/mass_storage.0/lun.0/file</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir configs/c.1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ln -s functions/mass_storage.0/ configs/c.1/f3</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mount -t debugfs none /sys/kernel/debug/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo device &gt; /sys/kernel/debug/usb/8c00000.usb/qcom_usb2_0_mode  #将USB切换为device模式</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 8c00000.usb &gt; UDC #连接USB线，U盘被识别 可在U盘内写入和写出文件</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo host &gt; /sys/kernel/debug/usb/8c00000.usb/qcom_usb2_0_mode  #拔掉USB线，切换为主机模式</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="232-type-c-接口">2.3.2 Type-C 接口<a href="#232-type-c-接口" class="hash-link" aria-label="2.3.2 Type-C 接口的直接链接" title="2.3.2 Type-C 接口的直接链接">​</a></h3>
<p>Type-C 接口可自动完成主机和设备模式的切换。</p>
<ul>
<li>
<p>当 Type-C 接入 PC 时自动切换为设备模式。</p>
</li>
<li>
<p>接入 OTG 线时自动切换为主机模式。</p>
</li>
<li>
<p>接入 DP 显示器时，自动输出 DP 视频信号。</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="24-csi">2.4 CSI<a href="#24-csi" class="hash-link" aria-label="2.4 CSI的直接链接" title="2.4 CSI的直接链接">​</a></h2>
<p>目前 RUBIK Pi 3 已经支持树莓派官方的三款摄像头：</p>
<ul>
<li>Raspberry Pi High Quality Camera（IMX477/M12 Mount）</li>
</ul>
<p><a href="https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>在 RUBIK Pi 3 QIM 官方演示中，IMX477 摄像头使用了 WS1053516 镜头.</p></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h2_e90bc0c9-58f8-4e79-b6eb-9af3396a0a2g-4f5fdae64b8118444247e56e2fe9091f.jpg" width="1280" height="960" class="img_ev3q"></p>
<ul>
<li>Raspberry Pi Camera Module 2 (IMX219)</li>
</ul>
<p><a href="https://www.raspberrypi.com/products/camera-module-v2/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/camera-module-v2/</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>目前 RUBIK Pi 3 暂时只支持标准版 Module 2 摄像头，不支持广角（Wide）、夜光（NoIR）版本。</p></div></div>
<ul>
<li>Raspberry Pi Camera Module 3 (IMX708)</li>
</ul>
<p><a href="https://www.raspberrypi.com/products/camera-module-3/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/camera-module-3/</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>目前 RUBIK Pi 3 暂时只支持标准版 Module 3 摄像头，不支持广角（Wide）、夜光（NoIR）版本。当前软件版本暂不支持 Module 3 摄像头的AF自动对焦功能。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="241-摄像头排线安装">2.4.1 摄像头排线安装<a href="#241-摄像头排线安装" class="hash-link" aria-label="2.4.1 摄像头排线安装的直接链接" title="2.4.1 摄像头排线安装的直接链接">​</a></h3>
<p><a href="https://www.raspberrypi.com/products/camera-cable/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/camera-cable/</a></p>
<p>RUBIK Pi 3 支持的摄像头 FPC 为 22Pin，0.5mm 间距，厚度0.3±0.05mm。可以兼容树莓派5同规格摄像头 FPC。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_65ff9013-785c-40cd-9e7f-7da467b261bg-f017d4763bc64ed9c37bbd932b61fd0d.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>1.向上拉开连接器的锁扣部分：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_916135d9-e1af-4ca9-9c54-d513361de87g-d7ca5a0eaa7c4f5114f97fb403164e23.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>2.插入 FPC，注意接触面朝向板内：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_acf25f33-e4b0-41d2-b559-2fa0008e45bg-b7af568b369658dbb25c902fbe9b3957.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>3.按下锁扣，确认 FPC 稳定没有松动：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_f9b828f8-03cf-4e17-a250-160c222ce9cg-39395880fa4136365619f6c680c02a80.jpg" width="1280" height="960" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="242-摄像头使用方法">2.4.2 摄像头使用方法<a href="#242-摄像头使用方法" class="hash-link" aria-label="2.4.2 摄像头使用方法的直接链接" title="2.4.2 摄像头使用方法的直接链接">​</a></h3>
<p>在 RUBIK Pi 3 中，可使用 <code>gstreamer</code> 命令对摄像头进行操作，操作前需输入下面命令对摄像头进行设置：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mount -o remount,rw /</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo multiCameraLogicalXMLFile=kodiak_dc.xml &gt; /var/cache/camera/camxoverridesettings.txt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo enableNCSService=FALSE &gt;&gt; /var/cache/camera/camxoverridesettings.txt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可将摄像头插入，下图13和14处：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-73-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<p>如下为实物连接图：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-74-2fa4bddaf4692594b8afb75d7de6729e.jpg" width="1000" height="495" class="img_ev3q"></p>
<ul>
<li>在 RUBIK Pi 3 中使用下面命令测试单个摄像头全屏预览：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export XDG_RUNTIME_DIR=/dev/socket/weston</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export WAYLAND_DISPLAY=wayland-1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">setprop persist.overlay.use_c2d_blit 2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! queue ! waylandsink fullscreen=true async=true</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02go_8281ed4a-2f6f-4f08-aa19-127a1fa7678g-a9ae70151e7c5afbc8ce324226ad770b.jpg" width="1280" height="960" class="img_ev3q"></p>
<ul>
<li>在 RUBIK Pi 3 中使用下面命令测试两摄像头并发预览：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#终端1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export XDG_RUNTIME_DIR=/dev/socket/weston</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export WAYLAND_DISPLAY=wayland-1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">setprop persist.overlay.use_c2d_blit 2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! queue ! waylandsink sync=false x=0 y=0 width=960 height=540 enable-last-sample=false</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#终端2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export XDG_RUNTIME_DIR=/dev/socket/weston</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export WAYLAND_DISPLAY=wayland-1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">setprop persist.overlay.use_c2d_blit 2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -e qtiqmmfsrc camera=1 name=camsrc ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! queue ! waylandsink sync=false x=960 y=540 width=960 height=540 enable-last-sample=false</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02go_ed6c6198-4696-480d-b23e-5862b0302a8g-943799b412e7d62cbfdf3e9016105ab9.jpg" width="1280" height="960" class="img_ev3q"></p>
<ul>
<li>在 RUBIK Pi 3 中使用下面命令测试两摄像头并发录像：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#终端1：</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo multiCameraLogicalXMLFile=kodiak_dc.xml &gt; /var/cache/camera/camxoverridesettings.txt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export XDG_RUNTIME_DIR=/dev/socket/weston</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export WAYLAND_DISPLAY=wayland-1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">setprop persist.overlay.use_c2d_blit 2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux0.mp4&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#终端2：</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export XDG_RUNTIME_DIR=/dev/socket/weston</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export WAYLAND_DISPLAY=wayland-1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">setprop persist.overlay.use_c2d_blit 2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -e qtiqmmfsrc camera=1 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux1.mp4&quot;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>录制完成后在 /opt 目录下有录制的视频文件，如下图：</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="363" height="73" class="img_ev3q"></p>
<ul>
<li>在 RUBIK Pi 3 中使用下面命令测试两摄像头并发录像加预览</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#终端1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export XDG_RUNTIME_DIR=/dev/socket/weston</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export WAYLAND_DISPLAY=wayland-1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">setprop persist.overlay.use_c2d_blit 2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux0.mp4&quot; camsrc. ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! waylandsink sync=false x=0 y=0 width=960 height=540 enable-last-sample=false</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#终端2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export XDG_RUNTIME_DIR=/dev/socket/weston</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export WAYLAND_DISPLAY=wayland-1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">setprop persist.overlay.use_c2d_blit 2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -e qtiqmmfsrc camera=1 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux1.mp4&quot; camsrc. ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! waylandsink sync=false x=960 y=540 width=960 height=540 enable-last-sample=false</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>录制完成后在 /opt 目录下有录制的视频文件：</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWsAAABJCAMAAADMi/fDAAAAflBMVEUwCSQmDS7//f9ACwkyCR4sDCA3ChnwW1YtCiQrCynHtr0eEzzt5/v+8f774OBfTF08NFZMJCkzHDseHEf/7fHOxuLc1fC3rsTCnJ3k0dp1T1SAW2Gffn2Je5VxYXjjxMVVTmuvh4pNL0SOb3SUi6qllaFhMzjUrrC3QkbdUlCbEeQHAAAACXBIWXMAAAsTAAALEwEAmpwYAAALBElEQVR42u2caWOqOhCGQUOayE5xQesu2vv//+CdCSHsChQ9tsqHnlZhyHlIZiZ5M2ha74Ox5r/62fjnB9fnF0qesGV/krVOnpL1HzwYZxp5QC9gzBiwzZyQpv/FU/fsh7SL882xyx2vtoWb62VxLLJsdKYG5Ne5Z/CvuD/6vpxPJqzSO5lhGLkeCp9wRvAD+E3TSNNI0D+tr3GBNfesVYF1+gwC16evyNoo987pyB7Zx4wR9E5vukCKPLA29LI36tssWNOC9bXl0xonAs9gOSYvEg6w7zLou1wH1tiL871zGp8PhxwjHqwtezGmjOs76+A7y6zPY49HO2I0lFlDfJ8sCGHpOElHDHyBrOmLwDaD2LHDrc/0uWXZkRzooofqn7PjmOR9CF9PN9CvKV+PxBGmXhlpupPQdr4ID06WPbWLrE3PWcHj1NeRHS0p2JnZ9hYuDmajkR2GF/KPY2DOi7D7eRTzZG0O7ooC69nGnYdnoAc9FLwyeoKjT/I9Hfrzp2AdeJO5d9r6NGO9sScbd7XU9Nhau6cia91cOz7hJnzsxuFS4/OpC/daUt3bWMfz2X8e1uyurCMfol3iQ8B7Qk/mehBoQJF7sxB7es5fM8laD6KjOV/g6Gepv9niGGC653wZZR+SXAX+Yk8NiAuahvcyp5cxeSIfcv8IaXpReAG/K2IjeI09kDzBwIYBDmNeD+IQ3Uou6gnW4BNcc/qVY41PiaK32IVLUmENWQhw3WEchCgZIGvdPDk+FawJew3WENPcub31tYw1O7iu68soZ2LewdXcRPbQtT0KwV07yl9L1qyWNQc/DRFW39kNrF9iBoOsofcenK8ca/TXhsyvJWvd/fJJzl+D5zlvLPes/AtcCR7BMNCH7Es+BD1OjP6/5EPmW+FXVk+Uh9yXtbleu+7ROeZZy/DANxuIYDb4EP45DRfCQ3je9HL2DXN+GR8jjagchZsiNi5Xmn6yY3ej5jJa6lfw31OYxEbIedZujJbhjtvlckX+vP9IWEe27eypYM2RNcnmH5iZYWwESg7y4J4NrtxeEPTV8SS3wpHmfHucn4PFaJWxBm8RCV8OOZ+DwRZZQ/J3FJZ3UejsX4M1TkFEhod+Q6wZqUjIxPREzj3SmTkXExb822C5lQ38xsCTa2b20HcXyJoJc4aMw7lZDXmViePPnzKr/TWXhexK8a9mPeB9dHoqjU+Ix1FxLYSL+Pg+7sAaHEcJfuWT9zGQn6nOetmLK0wddZkSLRFHXznG/VyXac0c8jnDoPQNu6dWAH3VqNVltJwuk7IOrJF9Gb9Zd2Wd8qvoMrxRl2EcZ5QFLabq0199H0A685Dzi6TTss66DK62zi/JjEVqLm/WTbqMVtBl0vleky5zKusymmItdBkw+HYnjbqMluky6bw51WVIVZf5LOsy+GQS1joYPLurd5is12WQmPAhmS4T5HUZNfVWuoyZ6TJV1rMDXEzenqNBl6EVXWaV12XYFV2mzJp7UyH09Nxhc/7+7+O3Hf99n4fTZdhNXSbHGoQFNEhJD6WUfn/8zuOb9tNlmCSkWNPbugyuUqPOQhKDIM6MSY/Z+G9FDbB76jLSPye6TNisywQkn6OA6nIEXYaDwcMxPNYEx5vczx+/9zgPrstYDbqMUBUnYbhP9tlEe9qHNXbrb//J927jfYv39r/bdexMlzGULlPYNnZDl1F3TTPFTM3pzgrDov8gjuynq5q5z3wMkI9cW+3Kp+Z8HIvaL2SdNfxXrHSLs2ST+5Jmd/Mvt+y9Wb8e6w7/o9omd3hWnX3DUE+gN2vWT2GpKl28nR2lPg7Bmv0q1rDowUnj0hG7piqW6pGu2ckOnX8tjX8wFOtWfPuOjt6s+Q723XVnjZUvhauu2snn5bCLuEuTq7t9Gk7TGblyUoW1+Ay0KHJrdFQt9+4kfGND9WrXsVjdcZrYGZ41LAJsZlifQG4A8WbbjqocLDActovbD7FsuWXD83UusobF9Gj9nmimqmvkvzWVL2U7qW4pZkDpvCntmeDSBWtSbrLUOpN74aXwu1D6IQYw2KcZuxPnTAoqPp6fm0khEGs7pvVKFFOWxR/QKrRMUHgKF6S0P0BZNkRkqbHcjnVa5yLn1iAagEo7uoxpfY/aiZNpsfIF1RxV+cKCqY37Iklqh6tzoD9GeDXW1EShHYKdIAYxqIY1x7XeKLacFYXVLygacb7YIZoTuA+uEEyo4UfZjktYx7Wj2HFWWSUO6EPTU1zDumh5nFqG9kZwHxCeCv36uuWOsdFUdS5JDcsZtkR7k3rWqiiGlCtfzlnlC+wOdvErZYenlom+to64zkVhXWWxdJfwCewS3sVhHWvYRxzbm9jxUyIGaJxfBuxXI6BorBx3sVV+F77ZwEI7fKellThMj+fmqZZ1vWWCO+G4zrXtwijsRSxb5spy1zxE1rkoXQb2TevmvJY17lmfaDj2Oe5a19Su9eQq6UNwSRVOzOwoyzSwjnB1vEXWK7yr+JTX+RDd3Dm+a3lujgiUJ1ixcxZXfwGvSGmaEIXxTNc6UFmJQ2EI+bWsr1nGhXpeYN3ScjvWss6F5XSZdNW/ytpzjiL8imoMTVZjaPKqJDZyHsQze2ZndsROSXHOzrZDG9yJn7CWO1jbsoYRY85HyZ1W1Bc9XK6PF4gQUR0SzI60PWtpWfSnlHXVspFaJsIyeRBrq4E1BPK5szlAtlfHGrzMAQ5ygzV6hVrWIIBuRY0NqqLzrZovAZHDssh6Aw8VxCPorKVctZ51YjnPOtGipOVdjnXZcgcfIupcpA+R1KTCUk6mSz4krXwhivUKyQaz2DBM+cy2qQ8R5wRWTDFHIHrKGu00szbET2gNlUTmkwMEMIYjmQXRHpMDdw1ZPRKh1NilIx3uG3iHgxdHoBzVsW6wLDwgxEZsTmvLXWMj6imZtmuuUWEhjbFxBTEtjY0Z66TyRex9OOxydjLLIFMuQAQ6K9ZYXQrFNU2sifipb5JzGFSAHIwdqM66yvkgJRhh7RSyIIJIWonDUL9r9CFNlqFI1osmWNvabNmosdwp59vndBnov/MwrMvoZc63x5xvluR80LflVUnlC2RJcwuTPmUHz2HiHI45n709Kx+SVE2D9iOz+Yw1F0TETwxceA5zQzjPnOMnci4DyfkJLQkiYrxrqhJHPMmauUyNZZ5ZxoKgEQhPWjfLbecy6awEc3qhvyRZO7k2l2HqKlVlI2YfqS6DMxZlBy2LCsl87X+6AxPsZCtUhblMYkHeSypH2SepHZ7MjXAtBvdzZpU4WkllKrxHpmiZKU2KZZpSZjnRo65afuyaKlPHD1aCOza5aut+1SHXa3weu2hmpMdPagbyTe6lUTWz/ula6/Wn+AjW6n9gjORhG8OwZv1Yo7+6D+urNT7dWLdtS8N5ivXI+IES9fPu0TCqBnhTxVULXVm3q5d5ctba3VgP2PCu7zFrw7oz7Q5NHpZd9Vl0s9+VdfXdWh3eY/Zm/fHz95jZ7eplGlg/3ofcv96/7rpuc5l8vUyP95g9L2s2+MjozbpfvUzlPWatWFfeGXYn1vfft1C+Q0vW9fUy5Hq9TOU9Zm/WHy3fY0alD7nyHjPW9B6zIX2I2qf6y46W+1Sb3mO2avsesyFZd9p//USoW++/HqReZhjWf7yugGN9S7VeBpdUeYf3mA3D+tXrZeyr9TLD5td/vA7sRr1MCPUyJKmXodfeYzYQ679e35jVyyS6TLa9ltfoKDXvMRuUtfZSr8fptSb2Zv24lYM369vH/11NUNVCwOZMAAAAAElFTkSuQmCC" width="363" height="73" class="img_ev3q"></p>
<p>预览结果如下：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-69-08e8e00deca93b04a56f739de28496b4.jpg" width="1000" height="638" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="25-hdmi-out">2.5 HDMI OUT<a href="#25-hdmi-out" class="hash-link" aria-label="2.5 HDMI OUT的直接链接" title="2.5 HDMI OUT的直接链接">​</a></h2>
<p>HDMI 接口为下图9， RUBIK Pi 3 支持 HDMI1.4，最高 4K 30Hz 输出，支持 CEC 功能，支持分辨率自适应功能（按屏幕支持的最高分辨率输出）和热插拔：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-71-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="251-cec">2.5.1 CEC<a href="#251-cec" class="hash-link" aria-label="2.5.1 CEC的直接链接" title="2.5.1 CEC的直接链接">​</a></h3>
<p>HDMI CEC（Consumer Electronics  Control，消费者电子控制）是 HDMI 标准中的一项功能，旨在通过单一的HDMI连接线实现多设备之间的互联与统一控制。具体来说，CEC 允许连接的设备通过专用的 CEC 引脚进行通信，从而实现例如通过一个遥控器控制多台设备的功能。</p>
<p>RUBIK Pi 3 集成了 cec-client 工具，将 HDMI 线连接到电视后，可使用下面命令查看电视是否支持 CEC：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &#x27;scan&#x27; | cec-client -s -d 1</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>若支持CEC将会有如下输出:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">opening a connection to the CEC adapter...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">requesting CEC bus information ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC bus information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">===================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device #0: TV</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address:       0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active source: no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor:        Sony</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osd string:    TV</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC version:   1.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">power status:  standby</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">language:      eng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device #1: Recorder 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address:       1.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active source: no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor:        Pulse Eight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osd string:    CECTester</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC version:   1.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">power status:  on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">language:      eng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device #4: Playback 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address:       3.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active source: no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor:        Sony</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osd string:    PlayStation 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC version:   1.3a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">power status:  standby</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">language:      ???</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>若电视支持CEC功能，可在 RUBIK Pi 3 中使用下面命令控制电视音量的加减：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &#x27;volup&#x27; | cec-client -t p -s</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &#x27;voldown&#x27; | cec-client -t p -s</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>更多 cec-client 使用方法，可使用 <code>-h</code> 参数进行查看：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-70-cfc8d02b8cab2ec837c4b60a938b390f.png" width="727" height="509" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="252-hdmi-out-触摸屏">2.5.2 HDMI OUT 触摸屏<a href="#252-hdmi-out-触摸屏" class="hash-link" aria-label="2.5.2 HDMI OUT 触摸屏的直接链接" title="2.5.2 HDMI OUT 触摸屏的直接链接">​</a></h3>
<p>RUBIK Pi 3 默认支持1024*600P分辨率的HDMI OUT触摸屏，并支持触摸功能，如下图所示：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_18251d67-83e7-498c-b056-5a11783ed13g-c637a3f933eec8f826988cad952d4d4d.jpg" width="1280" height="960" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>上图中使用的屏幕为7寸IPS高清触摸屏幕。</p><p><a href="https://detail.tmall.com/item.htm?abbucket=12&amp;id=683025543197&amp;rn=92499216a472de3107f9541a1b160dc3&amp;spm=a1z10.5-b-s.w4011-25285306736.152.50aa1c712FMfOS&amp;skuId=5055110246880" target="_blank" rel="noopener noreferrer">https://detail.tmall.com/item.htm?abbucket=12&amp;id=683025543197&amp;rn=92499216a472de3107f9541a1b160dc3&amp;spm=a1z10.5-b-s.w4011-25285306736.152.50aa1c712FMfOS&amp;skuId=5055110246880</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="26-wi-fi--bt">2.6 Wi-Fi &amp; BT<a href="#26-wi-fi--bt" class="hash-link" aria-label="2.6 Wi-Fi &amp; BT的直接链接" title="2.6 Wi-Fi &amp; BT的直接链接">​</a></h2>
<p>RUBIK Pi 3 上搭载了 AP6256 Wi-Fi 模块，支持 Wi-Fi 5 和蓝牙5.2。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="261-wi-fi">2.6.1 Wi-Fi<a href="#261-wi-fi" class="hash-link" aria-label="2.6.1 Wi-Fi的直接链接" title="2.6.1 Wi-Fi的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2611-sta模式">2.6.1.1 STA模式<a href="#2611-sta模式" class="hash-link" aria-label="2.6.1.1 STA模式的直接链接" title="2.6.1.1 STA模式的直接链接">​</a></h4>
<p>在STA模式（Station）下，设备可连接到一个已经存在的无线网络，以便访问网络资源或互联网，在 RUBIK Pi 3 中输入如下面命令进行连接：</p>
<p>1.扫描附近Wi-Fi：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">iw wlan0 scan | grep SSID </span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.连接 Wi-Fi：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">wpa_passphrase &lt;ssid&gt; &lt;passphrase&gt; &gt; /etc/wpa_supplicant.conf  #输入Wi-Fi账号和密码 </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">systemctl restart wifi  #连接Wi-Fi</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>3.连接好 Wi-Fi 后，下次开机会自动进行连接。</p>
<p>4.如想切换 Wi-Fi 可修改*/etc/wpa_supplicant.conf*文件，如下是一种修改方式：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ctrl_interface=/var/run/wpa_supplicant</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">update_config=1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pmf=1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">network={</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        ssid=&quot;RUBIKPi&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        psk=&quot;123456789&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>ssid为无线网络名称</p>
</li>
<li>
<p>psk为无线网络密码</p>
</li>
<li>
<p>按实际情况对文件进行修改</p>
</li>
</ul>
<p>修改完成后，输入下面命令进行连接：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">killall -9 wpa_supplicant</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">wpa_supplicant -Dnl80211 -iwlan0 -c/etc/wpa_supplicant.conf -B</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2612-ap模式">2.6.1.2 AP模式<a href="#2612-ap模式" class="hash-link" aria-label="2.6.1.2 AP模式的直接链接" title="2.6.1.2 AP模式的直接链接">​</a></h4>
<p>AP模式（Access Point）即无线接入热点模式，是一个无线网络的创建者，是网络的中心节点，一般家庭或办公室使用的无线网络路由器就是一个AP，下面是AP的创建步骤：</p>
<ul>
<li>
<p>开启AP</p>
<ul>
<li>创建或修改*/opt/hostapd.conf* 文件：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ctrl_interface=/var/run/hostapd</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">driver=nl80211</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ieee80211n=1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">interface=wlan1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">hw_mode=a</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">channel=36</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">beacon_int=100</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dtim_period=1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ssid=RUBIKPi</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">auth_algs=1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ap_isolate=0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ignore_broadcast_ssid=0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">wpa=2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">wpa_key_mgmt=WPA-PSK</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">rsn_pairwise=CCMP</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">wpa_passphrase=123456789</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>执行下面命令开启AP：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">killall wpa_supplicant </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">killall dhcpcd</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ifconfig wlan1 down</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ifconfig wlan1 192.168.43.1 netmask 255.255.255.0 up</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pkill -9 dnsmasq</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dnsmasq -i wlan1 --dhcp-range=192.168.43.10,192.168.43.100</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">hostapd /opt/hostapd.conf &amp;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>关闭AP：</p>
</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">hostapd_cli disable</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">killall -9 hostapd</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ifconfig wlan1 down</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="262-bt">2.6.2 BT<a href="#262-bt" class="hash-link" aria-label="2.6.2 BT的直接链接" title="2.6.2 BT的直接链接">​</a></h3>
<p>在RUBIK Pi 3中使用下面命令测试BT功能</p>
<ul>
<li>
<p>运行 app_manager 程序进行配对：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_manager</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-67-b51c61165c14cce86053dbf2a3a1c782.png" width="650" height="660" class="img_ev3q"></p>
<p>a.在终端输入2回车后等待蓝牙扫描结果；</p>
<p>b.在终端输入4回车后输入要配对的蓝牙设备 Dev 编号再次回车；</p>
<p>c.根据提示在终端输入13回车接受配对， 对端蓝牙设备同时也要接受配对请求；</p>
<p>d.app_manager 需要一直运行，下面步骤使用 <code>adb shell</code> 命令创建新终端进行。</p>
</li>
<li>
<p>蓝牙发送</p>
<p>以发送文件为例：</p>
</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">touch ./test_file.txt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo RUBIKPi &gt; test_file.txt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_opc</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#输入4回车</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#输入0回车</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#输入设备编号回车</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#手机接收文件</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#输入9回车退出</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="421" height="155" class="img_ev3q"></p>
<ul>
<li>蓝牙接收：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir push</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_ops</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#输入1回车</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#手机蓝牙发送文件</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#传输完成后，输入9回车退出， 在./push 文件夹中查看传输的文件</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="355" height="89" class="img_ev3q"></p>
<ul>
<li>其他Demo</li>
</ul>
<p>在 RUBIK Pi 3的 <em>/usr/src/rubikpi-bt-demo/3rdparty/3rdparty/embedded/bsa_examples/linux</em> 目录下，存放了所有 BT 相关的源码，可以按需要进行编译和查看，编译方法如下：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/3rdparty/3rdparty/embedded/bsa_examples/linux/&lt;测试demo&gt;/build/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">export ARMGCC=gcc</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">make CPU=arm64</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cp arm64/&lt;demo可执行文件&gt;  /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#运行demo程序</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="27-音频">2.7 音频<a href="#27-音频" class="hash-link" aria-label="2.7 音频的直接链接" title="2.7 音频的直接链接">​</a></h2>
<p>RUBIK Pi 3 目前支持的音接口为：</p>
<ul>
<li>
<p>3.5mm 耳机，下图4。</p>
</li>
<li>
<p>HDMI OUT， 下图9。</p>
</li>
<li>
<p>蓝牙</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-65-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="271-查看声卡信息">2.7.1 查看声卡信息<a href="#271-查看声卡信息" class="hash-link" aria-label="2.7.1 查看声卡信息的直接链接" title="2.7.1 查看声卡信息的直接链接">​</a></h3>
<ul>
<li>在 RUBIK Pi 3 中输入下面命令，查看声卡挂载情况：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cat /proc/asound/cards </span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="433" height="67" class="img_ev3q"></p>
<ul>
<li>在 RUBIK Pi 3 中输入下面命令，查看已分配的 pcm 流列表：</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cat /proc/asound/pcm</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Alt text" src="/rubik-pi-3/cn/assets/images/2-image-15-6122e65ebcae01625d2f18626d336b99.png" width="583" height="195" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="272-设置输出源">2.7.2 设置输出源<a href="#272-设置输出源" class="hash-link" aria-label="2.7.2 设置输出源的直接链接" title="2.7.2 设置输出源的直接链接">​</a></h3>
<p>在 RUBIK Pi 3 中输入下面命令，改变 gstreamer、paplay等命令的音频输出源头：</p>
<ul>
<li>设置输出接口为3.5mm耳机接口</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pactl set-sink-port 0 headset</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>设置输出接口为 HDMI</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pactl set-sink-port 0 hdmi</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="273-播放">2.7.3 播放<a href="#273-播放" class="hash-link" aria-label="2.7.3 播放的直接链接" title="2.7.3 播放的直接链接">​</a></h3>
<ul>
<li>在 RUBIK Pi 3 中输入下面命令测试耳机播放， 将测试音频放到*/opt*目录下，执行下面命令进行播放:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 filesrc location=/opt/test.mp3 ! mpegaudioparse ! mpg123audiodec ! pulsesink</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>在 RUBIK Pi 3 中输入下面命令测试 HDMI OUT 播放，将测试音频放到*/opt*目录下，执行下面命令进行播放:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">systemctl stop pulseaudio</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">agmplay /opt/test.wav -D 100 -d 100 -r 48000 -b 16 -c 2 -i MI2S-LPAIF_RXTX-RX-PRIMARY</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">systemctl start pulseaudio</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>在 RUBIK Pi 3 中输入下面命令测试蓝牙耳机播放，测试需要开启多个终端。</p>
<ul>
<li>终端一:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_manager</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>终端二:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_av</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>a.输入2回车，等待发现蓝牙耳机；</p>
<p>b.输入6回车，开始建立连接；</p>
<p>c.输入1回车，从最近的扫描结果中连接；</p>
<p>d.输入要连接蓝牙设备的Dev号。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-81-901cad3c0d095cf69156af6966e7f5b8.png" width="602" height="567" class="img_ev3q"></p>
<ul>
<li>
<p>返回终端一，输入13回车，接受配对。</p>
</li>
<li>
<p>返回终端二，输入11回车后选择要播放的音乐编号回车播放音乐。</p>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="274-录制">2.7.4 录制<a href="#274-录制" class="hash-link" aria-label="2.7.4 录制的直接链接" title="2.7.4 录制的直接链接">​</a></h3>
<p>在RUBIK Pi 3中输入下面命令测试录音功能</p>
<ul>
<li>耳机录制:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">gst-launch-1.0 -v pulsesrc volume=10 ! audioconvert ! wavenc ! filesink location=/opt/test.wav</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>蓝牙耳机录制，测试需要开启多个终端：</p>
<ul>
<li>终端一:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_manager</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>终端二:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_ag</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>a.输入 1 回车，等待发现蓝牙耳机；</p>
<p>b.输入 6 回车，连接蓝牙耳机；</p>
<p>c.输入 1 回车，从最近的扫描结果中连接；</p>
<p>d.输入要连接蓝牙设备的Dev号；</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="396" height="362" class="img_ev3q"></p>
<p>e.返回终端一，输入13回车，接受配对；</p>
<p>f.返回终端二，输入8 回车，打开 SCO 链路；</p>
<p>g.输入10回车，开始录制蓝牙耳机麦克风音频；</p>
<p>h.输入11回车停止录制；</p>
<p>i.录制音频的保存路径为  <em>/usr/src/rubikpi-bt-demo/test_files/ag/sco_ag_in.wav</em>。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="275-调节音量">2.7.5 调节音量<a href="#275-调节音量" class="hash-link" aria-label="2.7.5 调节音量的直接链接" title="2.7.5 调节音量的直接链接">​</a></h3>
<ul>
<li>耳机调节音量</li>
</ul>
<p>可通过下面命令获取和设置音量:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">tinymix get &quot;DAC Playback Volume&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">tinymix set &quot;DAC Playback Volume&quot; 192 192</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Alt text" src="data:image/png;base64,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" width="411" height="82" class="img_ev3q"></p>
<ul>
<li>蓝牙调节音量</li>
</ul>
<p>在播放蓝牙音频时，可在终端二输入 20 选择要连接编号回车后进行音量的调节，调节范围为0-100:</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="498" height="167" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="28-风扇">2.8 风扇<a href="#28-风扇" class="hash-link" aria-label="2.8 风扇的直接链接" title="2.8 风扇的直接链接">​</a></h2>
<p>RUBIK Pi 3支持树莓派5的散热套件:</p>
<p><a href="https://www.raspberrypi.com/products/active-cooler/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/active-cooler/</a></p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/20241127-180940.199-3-1-a0cada125f8d260bb4769ac839d43a58.jpg" width="1280" height="960" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p>使用RUBIK Pi 3在运行一些高负载或高性能的场景下，需要使用散热措施来保证设备性能稳定，否则会因为cpu温度过高而带来降频等性能影响。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="281-风扇安装">2.8.1 风扇安装<a href="#281-风扇安装" class="hash-link" aria-label="2.8.1 风扇安装的直接链接" title="2.8.1 风扇安装的直接链接">​</a></h3>
<p>1.将散热器背面所有导热硅脂移除，将下图标记的两块硅脂按 RUBIK Pi 3 的 SoC 及 uMCP 的形状裁下。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-79-e3a05b42d8e8b080a711f6fa739d1cfa.png" width="977" height="778" class="img_ev3q"></p>
<p>两块的表面尺寸约为14*12mm和13*11.5mm。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-78-9832ca0f45a3f1fdd2704de422094076.jpg" width="1000" height="848" class="img_ev3q"></p>
<p>2.将裁剪好的两块导热硅脂贴在 RUBIK Pi 3 上对应位置。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/20241128-154134.547-1-a85c171fd5abf1cd1529989425b7050a.jpg" width="1280" height="960" class="img_ev3q">
3. 安装散热器。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_c04fa8e0-92bc-466d-9c90-80b9e003af1g-bd74a8f80efb3bf7eca762306c8c637a.jpg" width="1280" height="960" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_0f005998-7ed5-42ae-b79c-5b908e89a6eg-480a69f204e55dd2bb48500ec2edcdc6.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>4.连接风扇排线。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/20241127-180940.199-3-1d493cd33c817338299c078a1c557def.jpg" width="960" height="1280" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>危险</div><div class="admonitionContent_BuS1"><p>建议将风扇安装到 RUBIK Pi 3 上后不要将其取下。拆卸会导致风扇的推针和散热垫退化，并可能导致产品损坏。如果推针损坏或变形，或无法牢固夹住，请停止使用风扇。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="282-风扇控制方法">2.8.2 风扇控制方法<a href="#282-风扇控制 方法" class="hash-link" aria-label="2.8.2 风扇控制方法的直接链接" title="2.8.2 风扇控制方法的直接链接">​</a></h3>
<p>RUBIK Pi 3 风扇会根据当前的 CPU 温度自动调整转速，同时也可使用下面命令进行手动控制转速，0和255分别表示风扇的最高和最低速度。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 100 &gt;  /sys/class/hwmon/hwmon29/pwm1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 255 &gt;  /sys/class/hwmon/hwmon29/pwm1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 0 &gt;  /sys/class/hwmon/hwmon29/pwm1</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="29-以太 网">2.9 以太网<a href="#29-以太网" class="hash-link" aria-label="2.9 以太网的直接链接" title="2.9 以太网的直接链接">​</a></h2>
<p>以太网接口为下图8， RUBIK Pi 3 支持千兆以太网：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-77-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<p>接入网线，如下图所示：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_74e3f354-0322-4559-b11a-ba47748b26dg-0554334589ae2bde872b5e4065bbf7ed.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>可在 RUBIK Pi 3 中使用下面命令查看网络连接情况，如下图所示，已经成功分配 IP，说明网络连接成功：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-76-a92dcbcffd007f74ed00b501defe13a6.png" width="659" height="487" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="210-rtc电池接口">2.10 RTC电池接口<a href="#210-rtc电池接口" class="hash-link" aria-label="2.10 RTC电池接口的直接链接" title="2.10 RTC电池接口的直接链接">​</a></h2>
<p>RTC(Real_Time Clock) 电池接口为下图1。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-75-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<p>接入 RTC 电池， 如下图所示，并将时间写入 RUBIK Pi 3 的系统硬件时钟，可在 RUBIK Pi 3 完全断电后，仍对 RUBIK Pi 3 的系统时间进行保存。</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_442045e1-f505-4176-adc5-3739921733fg-33361162c060328267634b1b970d64ef.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>在 RUBIK Pi 3 中将系统时间写入系统硬件时钟方法如下：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">date -s &quot;08:00:00 20241201&quot; # 将系统时间设置为2024年12月1日8时0分</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">hwclock -w # 将系统时间写入系统硬件时钟</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="211-m2-key-m-接口">2.11 M.2 Key M 接口<a href="#211-m2-key-m-接口" class="hash-link" aria-label="2.11 M.2 Key M 接口的直接链接" title="2.11 M.2 Key M 接口的直接链接">​</a></h2>
<p>M.2 Key M 接口为下图18：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-92-d0f64b7e485874387cadcbc61b2e0f4e.png" width="549" height="831" class="img_ev3q"></p>
<p>M.2 Key M 接口可以接入规格为2280的固态硬盘，如下图所示：</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_2bbba98e-82ca-47ed-9b20-cf96deb8e13g-57d1441299247c2ea7b90e787b426f03.jpg" width="1280" height="960" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/img_v3_02h3_f64471dd-11fb-46bd-ae8a-72fdf86cc65g-db1c08978ca54c9c7f9a54c5dcbdfb52.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>目前 RUBIK Pi 3暂未支持固态硬盘的自动挂载，可在 RUBIK Pi 3 中执行下面命令对固态硬盘手动挂载</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir /opt/ssd</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mount /dev/nvme0n1 /opt/ssd</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/cn/assets/images/image-91-35ccd6960234f141bb37cc1f7d7d31de.png" width="688" height="343" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/quick-start"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">1. 快速开始</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rubik-pi-3/cn/docs/rubik-pi-3-user-manual/ai-hub"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">3. Qualcomm AI Hub</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#21-硬件资源图" class="table-of-contents__link toc-highlight">2.1 硬件资源图</a></li><li><a href="#22-40-pin-连接器" class="table-of-contents__link toc-highlight">2.2 40 pin 连接器</a><ul><li><a href="#221-gpio" class="table-of-contents__link toc-highlight">2.2.1 GPIO</a></li><li><a href="#222-i2c" class="table-of-contents__link toc-highlight">2.2.2 I2C</a></li><li><a href="#223-spi" class="table-of-contents__link toc-highlight">2.2.3 SPI</a></li><li><a href="#224-uart" class="table-of-contents__link toc-highlight">2.2.4 UART</a></li></ul></li><li><a href="#23-usb" class="table-of-contents__link toc-highlight">2.3 USB</a><ul><li><a href="#231-usb20-接口" class="table-of-contents__link toc-highlight">2.3.1 USB2.0 接口</a></li><li><a href="#232-type-c-接口" class="table-of-contents__link toc-highlight">2.3.2 Type-C 接口</a></li></ul></li><li><a href="#24-csi" class="table-of-contents__link toc-highlight">2.4 CSI</a><ul><li><a href="#241-摄像头排线安装" class="table-of-contents__link toc-highlight">2.4.1 摄像头排线安装</a></li><li><a href="#242-摄像头使用方法" class="table-of-contents__link toc-highlight">2.4.2 摄像头使用方法</a></li></ul></li><li><a href="#25-hdmi-out" class="table-of-contents__link toc-highlight">2.5 HDMI OUT</a><ul><li><a href="#251-cec" class="table-of-contents__link toc-highlight">2.5.1 CEC</a></li><li><a href="#252-hdmi-out-触摸屏" class="table-of-contents__link toc-highlight">2.5.2 HDMI OUT 触摸屏</a></li></ul></li><li><a href="#26-wi-fi--bt" class="table-of-contents__link toc-highlight">2.6 Wi-Fi &amp; BT</a><ul><li><a href="#261-wi-fi" class="table-of-contents__link toc-highlight">2.6.1 Wi-Fi</a></li><li><a href="#262-bt" class="table-of-contents__link toc-highlight">2.6.2 BT</a></li></ul></li><li><a href="#27-音频" class="table-of-contents__link toc-highlight">2.7 音频</a><ul><li><a href="#271-查看声卡信息" class="table-of-contents__link toc-highlight">2.7.1 查看声卡信息</a></li><li><a href="#272-设置输出源" class="table-of-contents__link toc-highlight">2.7.2 设置输出源</a></li><li><a href="#273-播放" class="table-of-contents__link toc-highlight">2.7.3 播放</a></li><li><a href="#274-录制" class="table-of-contents__link toc-highlight">2.7.4 录制</a></li><li><a href="#275-调节音量" class="table-of-contents__link toc-highlight">2.7.5 调节音量</a></li></ul></li><li><a href="#28-风扇" class="table-of-contents__link toc-highlight">2.8 风扇</a><ul><li><a href="#281-风扇安装" class="table-of-contents__link toc-highlight">2.8.1 风扇安装</a></li><li><a href="#282-风扇控制方法" class="table-of-contents__link toc-highlight">2.8.2 风扇控制方法</a></li></ul></li><li><a href="#29-以太网" class="table-of-contents__link toc-highlight">2.9 以太网</a></li><li><a href="#210-rtc电池接口" class="table-of-contents__link toc-highlight">2.10 RTC电池接口</a></li><li><a href="#211-m2-key-m-接口" class="table-of-contents__link toc-highlight">2.11 M.2 Key M 接口</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2016 - 2025. Thundercomm America Corporation. All rights reserved. 渝ICP备16006224号-1 渝公网安备50011202504292</div></div></div></footer></div>
</body>
</html>