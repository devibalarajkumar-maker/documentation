<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-rubik-pi-3-user-manual/peripherals-and-interfaces" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">2. Peripherals and Interfaces | RUBIK Pi Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.thundercomm.com/rubik-pi-3/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.thundercomm.com/rubik-pi-3/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.thundercomm.com/rubik-pi-3/en/docs/rubik-pi-3-user-manual/peripherals-and-interfaces"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="2. Peripherals and Interfaces | RUBIK Pi Documentation"><link data-rh="true" rel="icon" href="/rubik-pi-3/en/img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.thundercomm.com/rubik-pi-3/en/docs/rubik-pi-3-user-manual/peripherals-and-interfaces"><link data-rh="true" rel="alternate" href="https://www.thundercomm.com/rubik-pi-3/en/docs/rubik-pi-3-user-manual/peripherals-and-interfaces" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.thundercomm.com/rubik-pi-3/en/docs/rubik-pi-3-user-manual/peripherals-and-interfaces" hreflang="x-default"><script src="https://hm.baidu.com/hm.js?cd51725dd2087a36c61e7b2d17d7817b" async></script>
<script src="/rubik-pi-3/en/js/feedback.js" async></script><link rel="stylesheet" href="/rubik-pi-3/en/assets/css/styles.59ddeac5.css">
<script src="/rubik-pi-3/en/assets/js/runtime~main.30341a4d.js" defer="defer"></script>
<script src="/rubik-pi-3/en/assets/js/main.acab7e1e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rubik-pi-3/en/"><div class="navbar__logo"><img src="/rubik-pi-3/en/img/rubik-pi-logo.png" alt="RUBIK Pi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rubik-pi-3/en/img/rubik-pi-logo.png" alt="RUBIK Pi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual">RUBIK Pi 3 Documentation &amp; Resources</a><a href="https://www.thundercomm.com/product/rubik-pi/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Product Detail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rubikpi-ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item"><a href="https://www.thundercomm.com/rubik-pi-3/cn/docs/rubik-pi-3-user-manual" target="_blank"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual">RUBIK Pi 3 User Manual</a><button aria-label="Collapse sidebar category &#x27;RUBIK Pi 3 User Manual&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/quick-start">1. Get Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/peripherals-and-interfaces">2. Peripherals and Interfaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/ai-hub">3. Qualcomm AI Hub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/qim">4. Qualcomm IM SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/lvgl">5. LVGL User Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/qt5">6. QT5 User Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/Porting">7. Tools and Libraries Porting Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/github">8. GitHub Operation Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/ros">9. ROS User Guide</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rubik-pi-3/en/docs/hardware-resources">Hardware Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rubik-pi-3/en/docs/image">System Image</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rubik-pi-3/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual"><span itemprop="name">RUBIK Pi 3 User Manual</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">2. Peripherals and Interfaces</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>2. Peripherals and Interfaces</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="21-hardware-resource-diagram">2.1 Hardware resource diagram<a href="#21-hardware-resource-diagram" class="hash-link" aria-label="Direct link to 2.1 Hardware resource diagram" title="Direct link to 2.1 Hardware resource diagram">​</a></h2>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/image-61-d0f64b7e485874387cadcbc61b2e0f4e.png" width="549" height="831" class="img_ev3q"></p>
<table><thead><tr><th>No.</th><th>Interface</th><th>No.</th><th>Interface</th></tr></thead><tbody><tr><td><strong>1</strong></td><td>RTC battery connector</td><td><strong>10</strong></td><td>Power Delivery over Type-C</td></tr><tr><td><strong>2</strong></td><td>Micro USB (UART debug)</td><td><strong>11</strong></td><td>Power-on button</td></tr><tr><td><strong>3</strong></td><td>QCS6490 module</td><td><strong>12</strong></td><td>EDL button</td></tr><tr><td><strong>4</strong></td><td>3.5mm headphone jack</td><td><strong>13</strong></td><td>Camera connector 1</td></tr><tr><td><strong>5</strong></td><td>USB Type-C with DP (USB3.1)</td><td><strong>14</strong></td><td>Camera connector 2</td></tr><tr><td><strong>6</strong></td><td>USB Type-A (USB2.0)</td><td><strong>15</strong></td><td>Wi-Fi/BT module</td></tr><tr><td><strong>7</strong></td><td>2 x USB Type-A (USB3.0)</td><td><strong>16</strong></td><td>Fan connector</td></tr><tr><td><strong>8</strong></td><td>1000M Ethernet</td><td><strong>17</strong></td><td>40-pin LS connector</td></tr><tr><td><strong>9</strong></td><td>HDMI OUT</td><td><strong>18</strong></td><td>M.2 Key M connector</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-40-pin-ls-connector">2.2 40-pin LS connector<a href="#22-40-pin-ls-connector" class="hash-link" aria-label="Direct link to 2.2 40-pin LS connector" title="Direct link to 2.2 40-pin LS connector">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="221-gpio">2.2.1 GPIO<a href="#221-gpio" class="hash-link" aria-label="Direct link to 2.2.1 GPIO" title="Direct link to 2.2.1 GPIO">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2211-pinout">2.2.1.1 Pinout<a href="#2211-pinout" class="hash-link" aria-label="Direct link to 2.2.1.1 Pinout" title="Direct link to 2.2.1.1 Pinout">​</a></h4>
<p>GPIO pin numbers are always required when GPIOs are used in user space. The following table lists the GPIO pin numbers and functions of the 40-pin LS connector. For example, the name of pin 13 is GPIO_24, which corresponds to number 559 in the GPIO sub-system.</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/pinout-63b984e5dbd496ff56f087854d78362c.png" width="989" height="690" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2212-control-gpios-using-shell-commands-on-rubik-pi-3">2.2.1.2 Control GPIOs using shell commands on RUBIK Pi 3<a href="#2212-control-gpios-using-shell-commands-on-rubik-pi-3" class="hash-link" aria-label="Direct link to 2.2.1.2 Control GPIOs using shell commands on RUBIK Pi 3" title="Direct link to 2.2.1.2 Control GPIOs using shell commands on RUBIK Pi 3">​</a></h4>
<p>Run the following commands on RUBIK Pi 3 to control GPIOs.</p>
<p>Go to the <em>/sys/class/gpio</em> directory:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /sys/class/gpio</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Export the GPIO to be controlled. For example, pin 3 GPIO_24:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 559 &gt; export</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Go to the <em>gpio559</em> directory to set GPIO attributes:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd gpio559  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ls</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/d60b318e2f460275062b4560855b2160-860d9a1a7b96c03942512b323db0df83.jpeg" width="638" height="172" class="img_ev3q"></p>
<p>The attributes are described as follows:</p>
<ul>
<li>
<p>direction:</p>
<ul>
<li>Input: in</li>
<li>Output: out</li>
</ul>
</li>
<li>
<p>value:</p>
<ul>
<li>Low level: 0</li>
<li>High level: 1</li>
</ul>
</li>
<li>
<p>edge (interrupt edge):</p>
<ul>
<li>Rising edge trigger: rising</li>
<li>Falling edge trigger: falling</li>
<li>Both-edge trigger: both</li>
<li>Disabling interrupts: none</li>
</ul>
</li>
</ul>
<p>Set pin 13 to output a high level:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo out &gt; direction  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 1 &gt; value</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cancel the export of pin 13 to user space:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 559 &gt; unexport</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2213-control-gpios-using-python-programs-on-rubik-pi-3">2.2.1.3 Control GPIOs using Python programs on RUBIK Pi 3<a href="#2213-control-gpios-using-python-programs-on-rubik-pi-3" class="hash-link" aria-label="Direct link to 2.2.1.3 Control GPIOs using Python programs on RUBIK Pi 3" title="Direct link to 2.2.1.3 Control GPIOs using Python programs on RUBIK Pi 3">​</a></h4>
<ul>
<li>GPIOs can be controlled by using python-periphery. Run the following command to install python-periphery on RUBIK Pi 3:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pip3 install python-periphery</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>The following code snippet uses python-periphery to operate GPIOs: set pin 13 as output, pin 15 as input, and loop to check the level status of pin 15.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> periphery </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> GPIO</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">out_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GPIO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">559</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;out&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">in_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GPIO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">560</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;in&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            pin_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;in_gpio level: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">pin_level</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            pin_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;in_gpio level: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">pin_level</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> KeyboardInterrupt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> IOError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    out_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    in_gpio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>gpio.py</em> to RUBIK Pi 3. For example, use the ADB method.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    adb push gpio.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Use the Dupont wire to short pin 13 and pin 15 as shown in the following figure to test the GPIO level control and read the level.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\bcff2cf0-522c-480b-852b-cabe03ab507c.jpeg" src="/rubik-pi-3/en/assets/images/6bad5a34acd88dd6d4f72316d7950498-eaf49698115cbb2b9433ed48802e4546.jpeg" width="1280" height="960" class="img_ev3q"></p>
<p>The program execution result is as follows:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 gpio.py</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="277" height="161" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2214-control-gpios-using-c-programs">2.2.1.4 Control GPIOs using C programs<a href="#2214-control-gpios-using-c-programs" class="hash-link" aria-label="Direct link to 2.2.1.4 Control GPIOs using C programs" title="Direct link to 2.2.1.4 Control GPIOs using C programs">​</a></h4>
<ul>
<li>The following code snippet sets pin 13 as output, pin 15 as input, and loops to check the level status of pin 15.</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> out_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">559</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> in_gpio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">560</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> export_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> export_command</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/export&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> export_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> export_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">export_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> direction_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/direction&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    FILE </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">direction_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open GPIO direction file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;out&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/direction&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    direction_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open GPIO direction file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;in&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> value_in_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> value_out_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> cat_command</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/value&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_in_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_in_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/gpio%d/value&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cat %s&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value_in_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    FILE </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">value_out_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fopen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open GPIO value file&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fflush</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cat_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fclose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_out_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> unexport_path</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> unexport_command</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sys/class/gpio/unexport&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unexport_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;echo %d &gt; %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> in_gpio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unexport_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">system</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unexport_command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Cross-compile the program. For details, refer to &quot;1.11.3. Use the cross-compilation tools&quot;.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    aarch64-qcom-linux-gcc gpio.c -o gpio --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>gpio</em> to RUBIK Pi 3. For example, use the ADB method.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    adb push gpio /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Use the Dupont wire to short pin 13 and pin 15 as shown in the following figure to test the GPIO level control and read the level.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/6bad5a34acd88dd6d4f72316d7950498-eaf49698115cbb2b9433ed48802e4546.jpeg" width="1280" height="960" class="img_ev3q"></p>
<p>The program execution result is as follows:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./gpio</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="276" height="198" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="222-i2c">2.2.2 I2C<a href="#222-i2c" class="hash-link" aria-label="Direct link to 2.2.2 I2C" title="Direct link to 2.2.2 I2C">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2221-pinout">2.2.2.1 Pinout<a href="#2221-pinout" class="hash-link" aria-label="Direct link to 2.2.2.1 Pinout" title="Direct link to 2.2.2.1 Pinout">​</a></h4>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/pinout-63b984e5dbd496ff56f087854d78362c.png" width="989" height="690" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Pins 3 and pin 5 are configured as I2C1 by default.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2222-i2c-communication-using-shell-commands-on-rubik-pi-3">2.2.2.2 I2C communication using shell commands on RUBIK Pi 3<a href="#2222-i2c-communication-using-shell-commands-on-rubik-pi-3" class="hash-link" aria-label="Direct link to 2.2.2.2 I2C communication using shell commands on RUBIK Pi 3" title="Direct link to 2.2.2.2 I2C communication using shell commands on RUBIK Pi 3">​</a></h4>
<p>Run the following commands on RUBIK Pi 3 to control the I2C bus.</p>
<ul>
<li>View devices connected to the I2C1 interface:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    i2cdetect -a -y -r 1</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Read all registers of the device whose address is 0x38:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    i2cdump -f -y 3 0x38</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Write 0xaa to register 0x01 of the device whose address is 0x38:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    i2cset -f -y 1 0x38 0x01 0xaa</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Read the value at register 0x01 of the device whose address is 0x38:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    i2cget -f -y 1 0x38 0x01</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2223-i2c-communication-using-python-programs">2.2.2.3 I2C communication using Python programs<a href="#2223-i2c-communication-using-python-programs" class="hash-link" aria-label="Direct link to 2.2.2.3 I2C communication using Python programs" title="Direct link to 2.2.2.3 I2C communication using Python programs">​</a></h4>
<ul>
<li>I2C can be controlled by using the Python smbus library. Run the following command on RUBIK Pi 3 to install the library.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pip3 install smbus</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>The following code snippet uses the I2C1 bus to communicate with a device whose address is 0x38: writing 0xaa to address 0x01 of the device.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> smbus</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0x01</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xaa</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        i2c_bus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> smbus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SMBus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;i2cdetect addr : &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> address </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0x7F</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                i2c_bus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write_i2c_block_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">address</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0x{:02X},&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">address</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> OSError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;An error occurred: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> i2c_bus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            i2c_bus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>i2c.py</em> to RUBUK Pi 3. For example, use the ADB method.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    adb push i2c.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Connect pin 3 and pin 5 to the I2C sensor and test the I2C communication as shown in the following figure.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\91e05068-1ff7-47d6-a2c7-8b721738bfc0.jpeg" src="/rubik-pi-3/en/assets/images/07b19a9bdf74168cbc89d8929cf94ca1-8a04068c223d75ce19fa0f95ba280bfe.jpeg" width="1193" height="895" class="img_ev3q"></p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 i2c.py</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The program execution result is as follows:</p>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="231" height="58" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2224-i2c-communication-using-c-programs">2.2.2.4 I2C communication using C programs<a href="#2224-i2c-communication-using-c-programs" class="hash-link" aria-label="Direct link to 2.2.2.4 I2C communication using C programs" title="Direct link to 2.2.2.4 I2C communication using C programs">​</a></h4>
<ul>
<li>The following code snippet uses the I2C1 bus to communicate with a device whose address is 0x38: writing 0xaa to address 0x01 of the device.</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdint.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;fcntl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;linux/i2c-dev.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;sys/ioctl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">I2C_DEVICE_PATH</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;/dev/i2c-1&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0x01</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0xaa</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">i2c_device </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I2C_DEVICE_PATH</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i2c_file</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_device</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> O_RDWR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open I2C device&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> I2C_TENBIT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> I2C_RETRIES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;i2cdetect addr : &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x7f</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> I2C_SLAVE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to set I2C slave address&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0x%x,&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i2c_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\r\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Cross-compile the program. For details, refer to &quot;1.11.3. Use the cross-compilation tools&quot;.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    aarch64-qcom-linux-gcc i2c.c -o i2c --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>i2c</em> to RUBIK Pi 3. For example, use the ADB method.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    adb push i2c /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Connect pin 3 and pin 5 to the I2C sensor to test the I2C bus communication as shown in the following figure.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\91e05068-1ff7-47d6-a2c7-8b721738bfc0.jpeg" src="/rubik-pi-3/en/assets/images/cd6160dc171d4bc051929e28de208e38-0fe73005679249046f9ca3ec80792311.jpeg" width="1109" height="831" class="img_ev3q"></p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./i2c</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The program execution result is as follows:</p>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="234" height="58" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="223-spi">2.2.3 SPI<a href="#223-spi" class="hash-link" aria-label="Direct link to 2.2.3 SPI" title="Direct link to 2.2.3 SPI">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2231-pinout">2.2.3.1 Pinout<a href="#2231-pinout" class="hash-link" aria-label="Direct link to 2.2.3.1 Pinout" title="Direct link to 2.2.3.1 Pinout">​</a></h4>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/pinout-63b984e5dbd496ff56f087854d78362c.png" width="989" height="690" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Pins 19, 21, 23, and 24 are set as SPI by default.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2232-spi-communication-using-python-programs">2.2.3.2 SPI communication using Python programs<a href="#2232-spi-communication-using-python-programs" class="hash-link" aria-label="Direct link to 2.2.3.2 SPI communication using Python programs" title="Direct link to 2.2.3.2 SPI communication using Python programs">​</a></h4>
<ul>
<li>SPI communication can be implemented by using the spidev library for Python. Run the following command to install spidev on RUBIK Pi 3.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pip3 install spidev</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>The following code snippet uses the SPI bus to send and receive data.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spidev</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tx_buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">ord</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> char </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello world!&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    rx_buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        spi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spidev</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SpiDev</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">max_speed_hz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000000</span><span class="token plain">  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        rx_buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xfer2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;tx_buffer:\n\r&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">chr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;rx_buffer:\n\r&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">chr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;An error occurred: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> spi</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            spi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>spi.py</em> to RUBIK Pi 3. For example, use the ADB method.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   adb push spi.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Short pin 19 and pin 21 with a Dupont wire to test the SPI bus communication as shown in the following figure.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/e1ca79acc1ae5a15dc0905c5a2bd7634-9fca1edb68f00465478fc879ee90315f.jpeg" width="1000" height="750" class="img_ev3q"></p>
<p>The program execution result is as follows:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 spi.py</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="204" height="89" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2233-spi-communication-using-c-programs">2.2.3.3 SPI communication using C programs<a href="#2233-spi-communication-using-c-programs" class="hash-link" aria-label="Direct link to 2.2.3.3 SPI communication using C programs" title="Direct link to 2.2.3.3 SPI communication using C programs">​</a></h4>
<ul>
<li>The following code snippet uses the SPI bus to send and receive data.</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdint.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;fcntl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;linux/spi/spidev.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;sys/ioctl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">SPI_DEVICE_PATH</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;/dev/spidev12.0&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> spi_file</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello world!&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Open the SPI device</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SPI_DEVICE_PATH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> O_RDWR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open SPI device&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Configure SPI mode and bits per word</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SPI_MODE_0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">uint8_t</span><span class="token plain"> bits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SPI_IOC_WR_MODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to set SPI mode&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SPI_IOC_WR_BITS_PER_WORD</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">bits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to set SPI bits per word&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Perform SPI transfer</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">spi_ioc_transfer</span><span class="token plain"> transfer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tx_buf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rx_buf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">rx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">delay_usecs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">speed_hz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// SPI speed in Hz</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bits_per_word </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">ioctl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SPI_IOC_MESSAGE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">transfer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to perform SPI transfer&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">/* Print tx_buffer and rx_buffer*/</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rtx_buffer: \n %s\n &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rrx_buffer: \n %s\n &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Close the SPI device</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spi_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Cross-compile the program. For details, refer to &quot;1.11.3. Use the cross-compilation tools&quot;.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    aarch64-qcom-linux-gcc spi.c -o spi --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>spi</em> to RUBIK Pi 3. For example, use the ADB method.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   adb push spi /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Short pin 19 and pin 21 with a Dupont wire to test the SPI bus communication as shown in the following figure.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/e1ca79acc1ae5a15dc0905c5a2bd7634-9fca1edb68f00465478fc879ee90315f.jpeg" width="1000" height="750" class="img_ev3q"></p>
<p>The program execution result is as follows:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./spi</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="174" height="104" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="224-uart">2.2.4 UART<a href="#224-uart" class="hash-link" aria-label="Direct link to 2.2.4 UART" title="Direct link to 2.2.4 UART">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2241-pinout">2.2.4.1 Pinout<a href="#2241-pinout" class="hash-link" aria-label="Direct link to 2.2.4.1 Pinout" title="Direct link to 2.2.4.1 Pinout">​</a></h4>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/pinout-63b984e5dbd496ff56f087854d78362c.PNG" width="989" height="690" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Pins 8 and 10 have been configured as UART by default. The device node is <em>/dev/ttyHS3</em>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2242-uart-communication-using-shell-commands-on-rubik-pi-3">2.2.4.2 UART communication using shell commands on RUBIK Pi 3<a href="#2242-uart-communication-using-shell-commands-on-rubik-pi-3" class="hash-link" aria-label="Direct link to 2.2.4.2 UART communication using shell commands on RUBIK Pi 3" title="Direct link to 2.2.4.2 UART communication using shell commands on RUBIK Pi 3">​</a></h4>
<p>Run the following commands on RUBIK Pi 3 to control UART communication.</p>
<ul>
<li>Use the stty tool to configure UART. Run the following commands to set both the input rate and output rate of UART to 115200 and disable the echo.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    stty -F /dev/ttyHS3 ispeed 115200 ospeed 115200  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    stty -F /dev/ttyHS3 -echo</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Enable the two terminals on RUBIK Pi 3, short pin 8 and pin 10 with a Dupont wire, and run the following commands. The content sent by the transmitter will be displayed on the receiver.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    echo &quot;hello world!&quot; &gt; /dev/ttyHS3 #Transmitter  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cat /dev/ttyHS3 #Receiver</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/3e67d14e85616b9b121f8f02ab89c111-f732c82f08d1403cb96ad85ac658f2d3.png" width="1000" height="871" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2243-uart-communication-using-python-programs">2.2.4.3 UART communication using Python programs<a href="#2243-uart-communication-using-python-programs" class="hash-link" aria-label="Direct link to 2.2.4.3 UART communication using Python programs" title="Direct link to 2.2.4.3 UART communication using Python programs">​</a></h4>
<ul>
<li>UART communication can be implemented by using the serial library for Python. Run the following command to install the serial library on RUBIK Pi 3.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pip3 install pyserial</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Create the <em>uart.py</em> file and use UART to send and receive data.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> serial</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Serial</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;/dev/ttyHS3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    baudrate</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">115200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    bytesize</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EIGHTBITS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    stopbits</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">STOPBITS_ONE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    parity</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">serial</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PARITY_NONE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> uart3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    uart3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">b&quot;Hello World!\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    buf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> uart3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Raw data:\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    data_strings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;utf-8&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Read {:d} bytes, printed as string:\n {:s}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_strings</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>uart.py</em> to RUBIK Pi 3. For example, use the ADB method. The command is as follows:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    adb push uart.py /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Short pin 8 and pin 10 with a Dupont wire to test the UART communication as shown in the following figure.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/3e67d14e85616b9b121f8f02ab89c111-f732c82f08d1403cb96ad85ac658f2d3.png" width="1000" height="871" class="img_ev3q"></p>
<p>The program execution result is as follows:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python3 uart.py</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="330" height="100" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2244-uart-communication-using-c-programs">2.2.4.4 UART communication using C programs<a href="#2244-uart-communication-using-c-programs" class="hash-link" aria-label="Direct link to 2.2.4.4 UART communication using C programs" title="Direct link to 2.2.4.4 UART communication using C programs">​</a></h4>
<ul>
<li>Create the <em>uart.c</em> file and use UART to send and receive data.</li>
</ul>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;string.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;fcntl.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;termios.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;unistd.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> serial_port_num </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> serial_port</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_port</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;/dev/ttyHS%d&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">serial_port_num</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> serial_fd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    serial_fd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_port</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> O_RDWR </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> O_NOCTTY</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Failed to open serial port&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">termios</span><span class="token plain"> tty</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">memset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">tcgetattr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error from tcgetattr&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">cfsetospeed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> B9600</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">cfsetispeed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> B9600</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">&amp;=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">PARENB</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">&amp;=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">CSTOPB</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">&amp;=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">CSIZE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c_cflag </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> CS8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">tcsetattr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> TCSANOW</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">tty</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error from tcsetattr&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello world!\n&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token class-name">ssize_t</span><span class="token plain"> bytes_written </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes_written </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">perror</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error writing to serial port&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rtx_buffer: \n %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">256</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bytes_read </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes_read </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        rx_buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">bytes_read</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\rrx_buffer: \n %s &quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rx_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;No data received.\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serial_fd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Cross-compile the program. For details, refer to &quot;1.11.3. Use the cross-compilation tools&quot;.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    aarch64-qcom-linux-gcc uart.c -o uart --sysroot=/home/zhy/qcom_sdk_meta/sysroots/armv8-2a-qcom-linux/</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Transfer <em>uart</em> to RUBIK Pi 3. For example, use the ADB method.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    adb push uart /opt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Short pin 8 and pin 10 with a Dupont wire and test the UART communication as shown in the following figure.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/3e67d14e85616b9b121f8f02ab89c111-f732c82f08d1403cb96ad85ac658f2d3.png" width="1000" height="871" class="img_ev3q"></p>
<p>The program execution result is as follows:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /opt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./uart</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="165" height="88" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="23-usb">2.3 USB<a href="#23-usb" class="hash-link" aria-label="Direct link to 2.3 USB" title="Direct link to 2.3 USB">​</a></h2>
<p>RUBIK Pi 3 provides four USB ports:</p>
<ul>
<li>2 x USB 3.0, host mode only (No.7 in the following figure)</li>
<li>1 x USB 2.0, host or device mode (No. 6 in the following figure)</li>
<li>1 x USB 3.1 Gen 1, host or device mode, Type-C with DisplayPort v1.4 (No. 5 in the following figure)</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/image-65-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="231-usb20">2.3.1 USB2.0<a href="#231-usb20" class="hash-link" aria-label="Direct link to 2.3.1 USB2.0" title="Direct link to 2.3.1 USB2.0">​</a></h3>
<p>To switch the USB 2.0 port to device mode, run commands manually. The following example shows a test method. Running the following commands on RUBIK Pi 3 simulates RUBIK Pi 3 as a USB flash drive.</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /sys/kernel/config/usb_gadget/ #Log in from the serial port and run the following command</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir g1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd g1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir functions/mass_storage.0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dd if=/dev/zero of=/tmp/test.iso bs=1M count=2048 #Create a 2 GB USB drive space</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkfs.ext4 /tmp/test.iso</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &quot;/tmp/test.iso&quot; &gt; functions/mass_storage.0/lun.0/file</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir configs/c.1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ln -s functions/mass_storage.0/ configs/c.1/f3</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mount -t debugfs none /sys/kernel/debug/</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo device &gt; /sys/kernel/debug/usb/8c00000.usb/qcom_usb2_0_mode #Switch USB to device mode</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 8c00000.usb &gt; UDC #Connect the USB cable. The USB drive is identified and can be written to and read from</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo host &gt; /sys/kernel/debug/usb/8c00000.usb/qcom_usb2_0_mode #Remove the USB cable and switch to host mode</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="232-type-c-port">2.3.2 Type-C port<a href="#232-type-c-port" class="hash-link" aria-label="Direct link to 2.3.2 Type-C port" title="Direct link to 2.3.2 Type-C port">​</a></h3>
<p>The Type-C port can automatically switch between host and device modes.</p>
<ul>
<li>Automatically switches to device mode when connected to PC</li>
<li>Automatically switches to host mode when an OTG cable is connected</li>
<li>Automatically outputs DP video signals when connected to a DP monitor</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="24-csi">2.4 CSI<a href="#24-csi" class="hash-link" aria-label="Direct link to 2.4 CSI" title="Direct link to 2.4 CSI">​</a></h2>
<p>Currently, RUBIK Pi 3 is compatible with three Raspberry Pi cameras:</p>
<ul>
<li>
<p>Raspberry Pi High Quality Camera (IMX477/M12 Mount)</p>
<p><a href="https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In the demonstration in Chapter 4. Qualcomm IM SDK, the IMX477 camera uses the WS1053516 lens.</p></div></div>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/c9eb41acf923e3dd6dfc03b2d26da462-dcc62239fcb46ef5f9fbd73976ae9fef.jpeg" width="1440" height="1080" class="img_ev3q"></p>
<ul>
<li>
<p>Raspberry Pi Camera Module 2 (IMX219)</p>
<p><a href="https://www.raspberrypi.com/products/camera-module-v2/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/camera-module-v2/</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Currently, the RUBIK Pi 3 only supports the standard Camera Module 2 and does not support the wide-angle or NoIR versions.</p></div></div>
</li>
<li>
<p>Raspberry Pi Camera Module 3 (IMX708)</p>
<p><a href="https://www.raspberrypi.com/products/camera-module-3/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/camera-module-3/</a></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Currently, the RUBIK Pi 3 only supports the standard Camera Module 3 and does not support the wide-angle or NoIR versions. The current software version does not support the autofocus (AF) function of the Module 3 camera.</p></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="241-connect-the-camera-cable">2.4.1 Connect the camera cable<a href="#241-connect-the-camera-cable" class="hash-link" aria-label="Direct link to 2.4.1 Connect the camera cable" title="Direct link to 2.4.1 Connect the camera cable">​</a></h3>
<p><a href="https://www.raspberrypi.com/products/camera-cable/" target="_blank" rel="noopener noreferrer">https://www.raspberrypi.com/products/camera-cable/</a></p>
<p>RUBIK Pi 3 supports the 22-pin FPC with a 0.5mm pitch and a 0.3±0.05mm thickness. It is compatible with the Raspberry Pi 5 FPC of the same specification.</p>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\6429108d-bcf7-4a6f-ab95-80e844273a7c.jpeg" src="/rubik-pi-3/en/assets/images/485f33ea22d9509ac518f5ab591b5859-4f17b73b49d83bb902e6474a5539dfde.jpeg" width="1113" height="835" class="img_ev3q"></p>
<ol>
<li>Pull up the lock of the connector.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/bcf226ed6c2398458c5cc506710f48f4-4464b7e54eda962a0e04f8d03ee0997a.jpeg" width="1000" height="750" class="img_ev3q"></p>
<ol start="2">
<li>Insert the FPC. Ensure that the contact side is toward RUBIK Pi.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/bd2f5aba13e3d3adb4d424d54586a342-428cbda475752a1afd77ebcda8336a50.jpeg" width="1000" height="750" class="img_ev3q"></p>
<ol start="3">
<li>Press the lock and ensure that the FPC is properly connected.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/6235ebd3163596d06be4967651f2dd9d-93422c46947df6bf83eff6738f41b2ae.jpeg" width="1000" height="750" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="242-use-cameras">2.4.2 Use cameras<a href="#242-use-cameras" class="hash-link" aria-label="Direct link to 2.4.2 Use cameras" title="Direct link to 2.4.2 Use cameras">​</a></h3>
<p>The camera can be operated by using the GStreamer command on RUBIK Pi 3. Before operation, run the following commands to set the camera.</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mount -o remount,rw /</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo multiCameraLogicalXMLFile=kodiak_dc.xml &gt; /var/cache/camera/camxoverridesettings.txt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo enableNCSService=FALSE &gt;&gt; /var/cache/camera/camxoverridesettings.txt</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Connect cameras to connectors 13 and 14, and connect the HDMI cable, as marked in the following figure.</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/image-65-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<p>The following picture shows the physical connection:</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/0f7c6b273558eb28d5b3ab8584f46ce0-04f7993faa51bc054e635003c9a85e95.png" width="1000" height="430" class="img_ev3q"></p>
<ul>
<li>Run the following commands on RUBIK Pi 3 for the full-screen preview of a single camera:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export XDG_RUNTIME_DIR=/dev/socket/weston  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export WAYLAND_DISPLAY=wayland-1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    setprop persist.overlay.use_c2d_blit 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! queue ! waylandsink fullscreen=true async=true</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following figure shows the preview result:</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/4ee4a732e67aad38855e394282441a6b-9d8559104ea2257f3e71c7abf26c06b8.jpeg" width="1265" height="949" class="img_ev3q"></p>
<ul>
<li>Run the following commands on RUBIK Pi 3 for concurrent preview of two cameras:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Terminal 1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export XDG_RUNTIME_DIR=/dev/socket/weston  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export WAYLAND_DISPLAY=wayland-1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    setprop persist.overlay.use_c2d_blit 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! queue ! waylandsink sync=false x=0 y=0 width=960 height=540 enable-last-sample=false  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Terminal 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export XDG_RUNTIME_DIR=/dev/socket/weston  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export WAYLAND_DISPLAY=wayland-1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    setprop persist.overlay.use_c2d_blit 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -e qtiqmmfsrc camera=1 name=camsrc ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! queue ! waylandsink sync=false x=960 y=540 width=960 height=540 enable-last-sample=false</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following figure shows the preview result:</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/46c3cf5c351e307c5cfab3e05e1c8a2c-136635c44a1bb7aaed289bef7c28eea9.jpeg" width="1265" height="949" class="img_ev3q"></p>
<ul>
<li>Run the following commands on RUBIK Pi 3 for concurrent video recording from both cameras.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Terminal 1:   </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    echo multiCameraLogicalXMLFile=kodiak_dc.xml &gt; /var/cache/camera/camxoverridesettings.txt  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export XDG_RUNTIME_DIR=/dev/socket/weston  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export WAYLAND_DISPLAY=wayland-1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    setprop persist.overlay.use_c2d_blit 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux0.mp4&quot;  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Terminal 2:   </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export XDG_RUNTIME_DIR=/dev/socket/weston  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export WAYLAND_DISPLAY=wayland-1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    setprop persist.overlay.use_c2d_blit 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -e qtiqmmfsrc camera=1 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux1.mp4&quot;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The recorded video files are saved in the <em>/opt</em> directory.</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="363" height="73" class="img_ev3q"></p>
<ul>
<li>Run the following commands on RUBIK Pi 3 for concurrent preview and video recording from two cameras.</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Terminal 1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export XDG_RUNTIME_DIR=/dev/socket/weston  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export WAYLAND_DISPLAY=wayland-1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    setprop persist.overlay.use_c2d_blit 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -e qtiqmmfsrc camera=0 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux0.mp4&quot; camsrc. ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! waylandsink sync=false x=0 y=0 width=960 height=540 enable-last-sample=false  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Terminal 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export XDG_RUNTIME_DIR=/dev/socket/weston  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export WAYLAND_DISPLAY=wayland-1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    setprop persist.overlay.use_c2d_blit 2  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -e qtiqmmfsrc camera=1 name=camsrc video_0::type=preview ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc,interlace-mode=progressive,colorimetry=bt601 ! queue ! v4l2h264enc capture-io-mode=5 output-io-mode=5 ! queue ! h264parse ! mp4mux ! queue ! filesink location=&quot;/opt/mux1.mp4&quot; camsrc. ! video/x-raw\(memory:GBM\),format=NV12,width=1920,height=1080,framerate=30/1,compression=ubwc ! waylandsink sync=false x=960 y=540 width=960 height=540 enable-last-sample=false</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The recorded video files are saved in the <em>/opt</em> directory.</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="363" height="73" class="img_ev3q"></p>
<p>The following figure shows the preview result:</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/cfe4c923633a3cca93b2639bb9098491-e56bcbd8434348b6bfdcd78a049164ea.png" width="1000" height="653" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="25-hdmi-out">2.5 HDMI OUT<a href="#25-hdmi-out" class="hash-link" aria-label="Direct link to 2.5 HDMI OUT" title="Direct link to 2.5 HDMI OUT">​</a></h2>
<p>The HDMI connector is component No.9 in the following figure. RUBIK Pi 3 supports HDMI 1.4 and a maximum output of 4K 30 Hz. It also supports the CEC functionality, resolution adaptation (output at the highest resolution supported by the screen), and hot-swapping.</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/image-65-6a1f84b7ae1644ce10f5a8f50638bd77.png" width="924" height="730" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="251-cec">2.5.1 CEC<a href="#251-cec" class="hash-link" aria-label="Direct link to 2.5.1 CEC" title="Direct link to 2.5.1 CEC">​</a></h3>
<p>HDMI Consumer Electronics Control (CEC) is a feature of HDMI designed to interconnect and control multiple connected devices via a single HDMI cable. CEC facilitates communication between connected devices through a dedicated CEC pin. For example, multiple devices can be controlled with a single remote control.</p>
<p>RUBIK Pi 3 integrates the cec-client tool. After connecting the HDMI cable to a TV, run the following command to check whether the TV supports CEC.</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &#x27;scan&#x27; | cec-client -s -d 1</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the TV supports CEC, the following output will be returned:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">opening a connection to the CEC adapter...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">requesting CEC bus information ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC bus information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">===================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device #0: TV</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address:       0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active source: no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor:        Sony</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osd string:    TV</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC version:   1.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">power status:  standby</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">language:      eng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device #1: Recorder 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address:       1.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active source: no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor:        Pulse Eight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osd string:    CECTester</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC version:   1.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">power status:  on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">language:      eng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device #4: Playback 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address:       3.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active source: no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor:        Sony</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osd string:    PlayStation 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CEC version:   1.3a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">power status:  standby</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">language:      ???</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the TV supports the CEC function, run the following commands on RUBIK Pi 3 to increase or decrease the TV volume.</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &#x27;volup&#x27; | cec-client -t p -s  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &#x27;voldown&#x27; | cec-client -t p -s</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more information about how to use cec-client, use the <code>-h</code> parameter.</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/926b99fb06e62ad30ad9f6cc7809ab4c-cfc8d02b8cab2ec837c4b60a938b390f.png" width="727" height="509" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="252-hdmi-out-touchscreen">2.5.2 HDMI OUT touchscreen<a href="#252-hdmi-out-touchscreen" class="hash-link" aria-label="Direct link to 2.5.2 HDMI OUT touchscreen" title="Direct link to 2.5.2 HDMI OUT touchscreen">​</a></h3>
<p>RUBIK Pi 3 supports HDMI OUT touchscreen with 1024 x 600P resolution by default and supports the touch function as shown in the following figure:</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/d1f58b66affe5f6875041da77fba74be-3a43ed1c036b74ada8ce16228b1f159f.jpeg" width="1000" height="750" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The screen used in the picture above is a 7&quot; IPS HD touch screen.</p><p><a href="https://a.co/d/cTl7rkN" target="_blank" rel="noopener noreferrer">https://a.co/d/cTl7rkN</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="26-wi-fi-and-bluetooth">2.6 Wi-Fi and Bluetooth<a href="#26-wi-fi-and-bluetooth" class="hash-link" aria-label="Direct link to 2.6 Wi-Fi and Bluetooth" title="Direct link to 2.6 Wi-Fi and Bluetooth">​</a></h2>
<p>RUBIK Pi 3 is equipped with the AP6256 Wi-Fi module and supports Wi-Fi 5 and Bluetooth 5.2.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="261-wi-fi">2.6.1 Wi-Fi<a href="#261-wi-fi" class="hash-link" aria-label="Direct link to 2.6.1 Wi-Fi" title="Direct link to 2.6.1 Wi-Fi">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2611-sta-mode">2.6.1.1 STA mode<a href="#2611-sta-mode" class="hash-link" aria-label="Direct link to 2.6.1.1 STA mode" title="Direct link to 2.6.1.1 STA mode">​</a></h4>
<p>In Station (STA) mode, the device can be connected to an existing Wi-Fi network to access network resources or the Internet. Run the following commands on RUBIK Pi 3:</p>
<ol>
<li>Scan for nearby Wi-Fi.</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   iw wlan0 scan | grep SSID</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Connect to Wi-Fi.</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   wpa_passphrase &lt;ssid&gt; &lt;passphrase&gt; &gt; /etc/wpa_supplicant.conf #Enter the Wi-Fi account and password</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   systemctl restart wifi #Connect to Wi-Fi</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The device will automatically connect to Wi-Fi the next time it is started.</p>
<ol start="3">
<li>If you want to switch to another Wi-Fi network, modify the <em>/etc/wpa_supplicant.conf</em> file. The following example shows a modification method:</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   ctrl_interface=/var/run/wpa_supplicant  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   update_config=1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   pmf=1  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   network={  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ssid=&quot;RUBIKPi&quot;  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    psk=&quot;123456789&quot;  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   }</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>ssid is the Wi-Fi network name.</li>
<li>psk is the Wi-Fi network password.</li>
</ul>
<p>Modify the .conf file based on your actual situation.</p>
<ol start="4">
<li>After modifying the configuration, run the following commands to connect to the Wi-Fi network.</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    killall -9 wpa_supplicant  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    wpa_supplicant -Dnl80211 -iwlan0 -c/etc/wpa_supplicant.conf -B</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2612-ap-mode">2.6.1.2 AP mode<a href="#2612-ap-mode" class="hash-link" aria-label="Direct link to 2.6.1.2 AP mode" title="Direct link to 2.6.1.2 AP mode">​</a></h4>
<p>In Access Point (AP) mode, the device becomes a gateway for other devices to connect to a network. The steps to create an AP are as follows:</p>
<ul>
<li>
<p>Enable the AP.</p>
<p>1.Create or modify the <em>/opt/hostapd.conf</em> file:</p>
</li>
</ul>
<div class="language-Text language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   ctrl_interface=/var/run/hostapd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   driver=nl80211  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ieee80211n=1  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   interface=wlan1  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   hw_mode=a  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   channel=36  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   beacon_int=100  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   dtim_period=1  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ssid=RUBIKPi  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   auth_algs=1  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ap_isolate=0  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ignore_broadcast_ssid=0  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   wpa=2  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   wpa_key_mgmt=WPA-PSK  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rsn_pairwise=CCMP  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   wpa_passphrase=123456789</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Run the following commands to enable the AP:</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    killall wpa_supplicant   </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    killall dhcpcd  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ifconfig wlan1 down  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ifconfig wlan1 192.168.43.1 netmask 255.255.255.0 up  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pkill -9 dnsmasq  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    dnsmasq -i wlan1 --dhcp-range=192.168.43.10,192.168.43.100  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    hostapd /opt/hostapd.conf &amp;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Disable the AP:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    hostapd_cli disable  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    killall -9 hostapd  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ifconfig wlan1 down</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="262-bt">2.6.2 BT<a href="#262-bt" class="hash-link" aria-label="Direct link to 2.6.2 BT" title="Direct link to 2.6.2 BT">​</a></h3>
<p>Run the following commands on RUBIK Pi 3 to test the Bluetooth function.</p>
<ul>
<li>Run the app_manager program to pair devices:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ./app_manager</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/7a8707ddded48d188136680c75f7bd78-b51c61165c14cce86053dbf2a3a1c782.png" width="650" height="660" class="img_ev3q"></p>
<ol>
<li>
<p>In the terminal, type &quot;2&quot;, press <strong>Enter</strong>, and wait for the Bluetooth scan result.</p>
</li>
<li>
<p>In the terminal, type &quot;4&quot;, press <strong>Enter</strong>, type the dev number of the Bluetooth device to be paired, and press <strong>Enter</strong> again.</p>
</li>
<li>
<p>In the terminal, type &quot;13&quot; as prompted to accept the pairing. The Bluetooth device to be paired also needs to accept the pairing request.</p>
<p>app_manager must be running at all times. Run the <code>adb shell</code> command to create a terminal and perform the following steps.</p>
</li>
</ol>
<ul>
<li>
<p>Transmission via Bluetooth.</p>
<p>Take sending a file as an example:</p>
</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    touch ./test_file.txt  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    echo RUBIKPi &gt; test_file.txt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ./app_opc  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Type 4 and press Enter  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Type 0 and press Enter  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Type the dev number and press Enter  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Phone receives file  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Type 9 and press Enter to quit</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="421" height="155" class="img_ev3q"></p>
<ul>
<li>Reception via Bluetooth</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    mkdir push</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ./app_ops  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Type 1 and press Enter  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Phone sends file via Bluetooth  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #After transmission, type 9 and press Enter to quit. The transmitted file is located in the ./push folder</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="355" height="89" class="img_ev3q"></p>
<ul>
<li>
<p>Other demos</p>
<p>All the BT related source code is stored in the following directory of RUBIK Pi 3:*<br>
<!-- -->/usr/src/rubikpi-bt-demo/3rdparty/3rdparty/embedded/bsa_examples/linux*. Compile and view the code as needed. The following example shows the compilation method:</p>
</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/3rdparty/3rdparty/embedded/bsa_examples/linux/&lt;test demo&gt;/build/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    export ARMGCC=gcc  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    make CPU=arm64  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cp arm64/&lt;demo executable file&gt; /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    #Run the demo</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="27-audio">2.7 Audio<a href="#27-audio" class="hash-link" aria-label="Direct link to 2.7 Audio" title="Direct link to 2.7 Audio">​</a></h2>
<p>RUBIK Pi 3 supports the following audio interfaces:</p>
<ul>
<li>3.5mm headphone (No. 4 in the following figure)</li>
<li>HDMI OUT (No. 9 in the following figure)</li>
<li>Bluetooth</li>
</ul>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/IMAGE-65-6a1f84b7ae1644ce10f5a8f50638bd77.PNG" width="924" height="730" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="271-view-the-sound-card-information">2.7.1 View the sound card information<a href="#271-view-the-sound-card-information" class="hash-link" aria-label="Direct link to 2.7.1 View the sound card information" title="Direct link to 2.7.1 View the sound card information">​</a></h3>
<ul>
<li>Run the following command on RUBIK Pi 3 to view the mounted sound cards:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cat /proc/asound/cards</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="509" height="70" class="img_ev3q"></p>
<ul>
<li>Run the following command on RUBIK Pi 3 to view the list of allocated Pulse-Code Modulation (PCM) streams:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cat /proc/asound/pcm</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/7636f797519efa425e7c72440ddab3a3-ea81bb5642e9afbd273a2c1905a6432d.jpeg" width="655" height="217" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="272-set-the-audio-output-device">2.7.2 Set the audio output device<a href="#272-set-the-audio-output-device" class="hash-link" aria-label="Direct link to 2.7.2 Set the audio output device" title="Direct link to 2.7.2 Set the audio output device">​</a></h3>
<p>Run the following commands on RUBIK Pi 3 to change the audio output source for commands such as gstreamer and paplay:</p>
<ul>
<li>Set the 3.5mm headphone jack as the output interface:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pactl set-sink-port 0 headset</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Set the HDMI as the output interface:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pactl set-sink-port 0 hdmi</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="273-playback">2.7.3 Playback<a href="#273-playback" class="hash-link" aria-label="Direct link to 2.7.3 Playback" title="Direct link to 2.7.3 Playback">​</a></h3>
<ul>
<li>Run the following command on RUBIK Pi 3 to test headphone playback, put the test audio in the <em>/opt</em> directory and run the following command to play the test audio:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 filesrc location=/opt/test.mp3 ! mpegaudioparse ! mpg123audiodec ! pulsesink</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Run the following command on RUBIK Pi 3 to test HDMI OUT playback, put the test audio in the <em>/opt</em> directory and run the following commands to play the test audio:</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   systemctl stop pulseaudio  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   agmplay /opt/test.wav -D 100 -d 100 -r 48000 -b 16 -c 2 -i MI2S-LPAIF_RXTX-RX-PRIMARY  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">   systemctl start pulseaudio</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Run the following command on RUBIK Pi 3 to test Bluetooth playback, enable two terminals.</p>
<ol>
<li>Enable terminal 1:</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./app_manager</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Enable terminal 2:</li>
</ol>
</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ./app_av</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>a.  Type &quot;2&quot; and press <strong>Enter.</strong> Wait for the Bluetooth headphone to be found.</p>
<p>b.  Type &quot;6&quot; and press <strong>Enter</strong> to start establishing a connection.</p>
<p>c.  Type &quot;1&quot; and press <strong>Enter</strong> to connect a recently scanned device.</p>
<p>d.  Type the dev number of the Bluetooth device you want to connect.</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/fc58c105739ed54087d9e8bdb46cb890-901cad3c0d095cf69156af6966e7f5b8.png" width="602" height="567" class="img_ev3q"></p>
<ul>
<li>Return to Terminal 1 and type &quot;13&quot; to accept the pairing.</li>
<li>Return to Terminal 2, type &quot;11&quot;, and press <strong>Enter</strong>. Select the number of the piece of music you want to play and press <strong>Enter</strong>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="274-recording">2.7.4 Recording<a href="#274-recording" class="hash-link" aria-label="Direct link to 2.7.4 Recording" title="Direct link to 2.7.4 Recording">​</a></h3>
<p>Run the following commands on RUBIK Pi 3 to test the recording function.</p>
<ul>
<li>Headphone recording</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    gst-launch-1.0 -v pulsesrc volume=10 ! audioconvert ! wavenc ! filesink location=/opt/test.wav</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Bluetooth headphone recording. Enable two terminals for testing.</li>
</ul>
<ol>
<li>Enable terminal 1:</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ./app_manager</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Enable terminal 2:</li>
</ol>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cd /usr/src/rubikpi-bt-demo/  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ./app_ag</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>a. Type &quot;1&quot; and press <strong>Enter</strong>. Wait for the Bluetooth headphone to be found.</p>
<p>b. Type &quot;6&quot; and press <strong>Enter</strong> to connect the Bluetooth headphone.</p>
<p>c. Type &quot;1&quot; and press <strong>Enter</strong> to connect a recently scanned device.</p>
<p>d. Type the dev number of the Bluetooth device you want to connect.</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="396" height="362" class="img_ev3q"></p>
<p>e. Return to Terminal 1 and type &quot;13&quot; to accept the pairing.</p>
<p>f. Return to Terminal 2 and type &quot;8&quot; to open the SCO link.</p>
<p>g. Type &quot;10&quot; and press <strong>Enter</strong> to start recording audio from the Bluetooth headphone&#x27;s microphone.</p>
<p>h. Type &quot;11&quot; to stop recording.
The recorded audio is located at <em>/usr/src/rubikpi-bt-demo/test_files/ag/sco_ag_in.wav</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="275-volume-updown">2.7.5 Volume up/down<a href="#275-volume-updown" class="hash-link" aria-label="Direct link to 2.7.5 Volume up/down" title="Direct link to 2.7.5 Volume up/down">​</a></h3>
<ul>
<li>
<p>Adjust the headphone volume</p>
<p>Run the following commands to obtain and set the volume:</p>
</li>
</ul>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tinymix get &quot;DAC Playback Volume&quot;  </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    tinymix set &quot;DAC Playback Volume&quot; 192 192</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/jpeg;base64,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" width="483" height="96" class="img_ev3q"></p>
<ul>
<li>
<p>Adjust the Bluetooth volume</p>
<p>When playing Bluetooth audios, type &quot;20&quot; in Terminal 2 to select the number of a connection, press <strong>Enter</strong>, and then adjust the volume. The adjustment range is 0 – 100.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="498" height="167" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="28-fan">2.8 Fan<a href="#28-fan" class="hash-link" aria-label="Direct link to 2.8 Fan" title="Direct link to 2.8 Fan">​</a></h2>
<p>RUBIK Pi 3 is compatible with the <a href="https://www.raspberrypi.com/products/active-cooler/" target="_blank" rel="noopener noreferrer">Raspberry Pi Active Cooler.</a></p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/2cf8a0e7d5ed807e781d292475415921-afbd924582e7aebd8292cd9b2dbac3d3.jpeg" width="1000" height="750" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>When using RUBIK Pi 3 in high-load or high-performance scenarios, use cooling measures to ensure that the performance of the device is stable. Otherwise, performance may fluctuate due to high CPU temperature.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="281-install-the-fan">2.8.1 Install the fan<a href="#281-install-the-fan" class="hash-link" aria-label="Direct link to 2.8.1 Install the fan" title="Direct link to 2.8.1 Install the fan">​</a></h3>
<ol>
<li>Remove the thermal pads on the back of the cooler and cut the following two pads in the shape of SoC and uMCP of RUBIK Pi 3.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/da328894e6fdbdc8c2183bb9a63a143d-e3a05b42d8e8b080a711f6fa739d1cfa.png" width="977" height="778" class="img_ev3q"></p>
<p>The dimensions of the two pieces are about 14 x 12mm and 13 x 11.5mm respectively.</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/043e4c15a62ca059d721effd1005ac4f-045cee9968ac13a53736ff3227747ff9.png" width="1000" height="848" class="img_ev3q"></p>
<ol start="2">
<li>Paste the two thermal pads to the corresponding positions on RUBIK Pi 3.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/bbbee5bc2e04b3d3ad9c6b2b1b767a60-8ef887ff7a62adaaf527fa10fdbe9c9d.jpeg" width="1000" height="750" class="img_ev3q"></p>
<ol start="3">
<li>Install the cooler.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/b8205ccdbe00fd44f43747c624f2c107-8fa27e8246ecfd0d5dafab2f9ceb2446.jpeg" width="1000" height="750" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/8f8648032293bb0f20b4304b227e8f68-9dd5e8bbf0f8d73b7bf231c31dd84c0a.jpeg" width="596" height="447" class="img_ev3q"></p>
<ol start="4">
<li>Connect the fan cable.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/fd62c6e815dd645b1661b0c8d9c938b1-ad5bdf9e1e0cd538d87ec7a649608a4c.jpeg" width="1000" height="1333" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>We recommend that you do not remove the fan after installing it on the RUBIK Pi 3. Removal will cause the fan&#x27;s push pins and thermal pads to degrade and may result in product damage. If the push pins are damaged or deformed, or if they do not clip securely, stop using the fan.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="282-control-the-fan">2.8.2 Control the fan<a href="#282-control-the-fan" class="hash-link" aria-label="Direct link to 2.8.2 Control the fan" title="Direct link to 2.8.2 Control the fan">​</a></h3>
<p>The fan of RUBIK Pi 3 controls the speed according to the CPU temperature. You can also run the following commands on RUBIK Pi 3 to control the fan speed. 0 and 255 indicate the maximum and minimum speed of the fan respectively.</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 100 &gt; /sys/class/hwmon/hwmon29/pwm1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 255 &gt; /sys/class/hwmon/hwmon29/pwm1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo 0 &gt; /sys/class/hwmon/hwmon29/pwm1</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="29-ethernet">2.9 Ethernet<a href="#29-ethernet" class="hash-link" aria-label="Direct link to 2.9 Ethernet" title="Direct link to 2.9 Ethernet">​</a></h2>
<p>The Ethernet interface is port 8 in the following figure. RUBIK Pi 3 supports Gigabit Ethernet.</p>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\2c754d95-905a-4ebe-82f0-ed4386c81af0.jpeg" src="/rubik-pi-3/en/assets/images/e4d5d11bdf1e4a14ca8e692876267b69-b00c4c152c75df4dce72b33f94e38ee4.jpeg" width="924" height="730" class="img_ev3q"></p>
<p>Connect the network cable, as shown in the following figure:</p>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\b234905d-bdc6-44ad-a56e-b48dd86736b0.jpeg" src="/rubik-pi-3/en/assets/images/c0f7baa8cbbb5455b9478d434483602f-c69fcebde9e4ca53cfc854044e589805.jpeg" width="1280" height="960" class="img_ev3q"></p>
<p>Run the following command to check the network connection on RUBIK Pi 3. As shown in the following figure, the IP has been successfully assigned, indicating that the network connection is successful:</p>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\7e6cf4bc-d06e-46f2-abb9-2d7bb3f3342f.jpeg" src="/rubik-pi-3/en/assets/images/928e80fdc43e6211fc15bdf4801eab03-6b5b5ff0c11b9f1fa2312bda1c6c21e2.jpeg" width="659" height="487" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="210-rtc-battery-connector">2.10 RTC battery connector<a href="#210-rtc-battery-connector" class="hash-link" aria-label="Direct link to 2.10 RTC battery connector" title="Direct link to 2.10 RTC battery connector">​</a></h2>
<p>The real-time clock (RTC) battery connector is port 1 in the following figure.</p>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\2c754d95-905a-4ebe-82f0-ed4386c81af0.jpeg" src="/rubik-pi-3/en/assets/images/e4d5d11bdf1e4a14ca8e692876267b69-b00c4c152c75df4dce72b33f94e38ee4.jpeg" width="924" height="730" class="img_ev3q"></p>
<p>Connect the RTC battery as shown in the following figure and write the time into the system hardware clock of RUBIK Pi 3. This way, the system time of RUBIK Pi 3 can be saved even if it is completely powered off.</p>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\b83d9de9-ca11-4125-9ad8-f87dd9e6f33d.jpeg" src="/rubik-pi-3/en/assets/images/c144f2f8c4308ac621da5e24079e2801-0f05e6a85439d4b5a89e5a3b940494d0.jpeg" width="1280" height="960" class="img_ev3q"></p>
<p>Write the system time to the system hardware clock on RUBIK Pi 3 as follows:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">date -s &quot;08:00:00 20241201&quot; # Set system time to 08:00, December 1, 2024</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">hwclock -w # Write system time to system hardware clock</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="211-m2-key-m-connector">2.11 M.2 Key M connector<a href="#211-m2-key-m-connector" class="hash-link" aria-label="Direct link to 2.11 M.2 Key M connector" title="Direct link to 2.11 M.2 Key M connector">​</a></h2>
<p>The M.2 Key M connector is connector 18 in the following figure:</p>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\0ea0b5a3-d42e-47ae-88d2-ab04fe8895e9.jpeg" src="/rubik-pi-3/en/assets/images/d1bc219cccdf3435dd010df07d92471c-872e17d7289a1745aed2a7124d5aa14b.jpeg" width="549" height="831" class="img_ev3q"></p>
<p>The M.2 Key M connector is compatible with the 2280-sized SSD, as shown in the following figures:</p>
<p><img decoding="async" loading="lazy" src="/rubik-pi-3/en/assets/images/61a3fbf4f83c4f7ec27e1ae3d38b76e1-ce0adcd782eb0072454b7bd69e319947.jpeg" width="702" height="526" class="img_ev3q"><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\476924d3-fb5b-40f4-a4ee-9e34e51c8b03.jpeg" src="/rubik-pi-3/en/assets/images/15518b08ac64c495af84147d7d1cdd52-193e8b8dc9f5b148a0267b2cfd19519a.jpeg" width="735" height="553" class="img_ev3q"></p>
<p>At present, RUBIK Pi 3 does not support automatic mounting of SSDs. Run the following commands on RUBIK Pi 3 to manually mount SSDs.</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mkdir /opt/ssd</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mount /dev/nvme0n1 /opt/ssd</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="C:\Users\thundersoft\AppData\Roaming\LarkShell\OptimizeImage\bb87d1da-c0b2-45e3-88cd-8ce29daf8f47.jpeg" src="/rubik-pi-3/en/assets/images/5b291d225a1b7a64509c4d9db540b2f9-5853a1bba8db8b38f9c263901db1a559.jpeg" width="688" height="343" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/quick-start"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">1. Get Started</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rubik-pi-3/en/docs/rubik-pi-3-user-manual/ai-hub"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">3. Qualcomm AI Hub</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#21-hardware-resource-diagram" class="table-of-contents__link toc-highlight">2.1 Hardware resource diagram</a></li><li><a href="#22-40-pin-ls-connector" class="table-of-contents__link toc-highlight">2.2 40-pin LS connector</a><ul><li><a href="#221-gpio" class="table-of-contents__link toc-highlight">2.2.1 GPIO</a></li><li><a href="#222-i2c" class="table-of-contents__link toc-highlight">2.2.2 I2C</a></li><li><a href="#223-spi" class="table-of-contents__link toc-highlight">2.2.3 SPI</a></li><li><a href="#224-uart" class="table-of-contents__link toc-highlight">2.2.4 UART</a></li></ul></li><li><a href="#23-usb" class="table-of-contents__link toc-highlight">2.3 USB</a><ul><li><a href="#231-usb20" class="table-of-contents__link toc-highlight">2.3.1 USB2.0</a></li><li><a href="#232-type-c-port" class="table-of-contents__link toc-highlight">2.3.2 Type-C port</a></li></ul></li><li><a href="#24-csi" class="table-of-contents__link toc-highlight">2.4 CSI</a><ul><li><a href="#241-connect-the-camera-cable" class="table-of-contents__link toc-highlight">2.4.1 Connect the camera cable</a></li><li><a href="#242-use-cameras" class="table-of-contents__link toc-highlight">2.4.2 Use cameras</a></li></ul></li><li><a href="#25-hdmi-out" class="table-of-contents__link toc-highlight">2.5 HDMI OUT</a><ul><li><a href="#251-cec" class="table-of-contents__link toc-highlight">2.5.1 CEC</a></li><li><a href="#252-hdmi-out-touchscreen" class="table-of-contents__link toc-highlight">2.5.2 HDMI OUT touchscreen</a></li></ul></li><li><a href="#26-wi-fi-and-bluetooth" class="table-of-contents__link toc-highlight">2.6 Wi-Fi and Bluetooth</a><ul><li><a href="#261-wi-fi" class="table-of-contents__link toc-highlight">2.6.1 Wi-Fi</a></li><li><a href="#262-bt" class="table-of-contents__link toc-highlight">2.6.2 BT</a></li></ul></li><li><a href="#27-audio" class="table-of-contents__link toc-highlight">2.7 Audio</a><ul><li><a href="#271-view-the-sound-card-information" class="table-of-contents__link toc-highlight">2.7.1 View the sound card information</a></li><li><a href="#272-set-the-audio-output-device" class="table-of-contents__link toc-highlight">2.7.2 Set the audio output device</a></li><li><a href="#273-playback" class="table-of-contents__link toc-highlight">2.7.3 Playback</a></li><li><a href="#274-recording" class="table-of-contents__link toc-highlight">2.7.4 Recording</a></li><li><a href="#275-volume-updown" class="table-of-contents__link toc-highlight">2.7.5 Volume up/down</a></li></ul></li><li><a href="#28-fan" class="table-of-contents__link toc-highlight">2.8 Fan</a><ul><li><a href="#281-install-the-fan" class="table-of-contents__link toc-highlight">2.8.1 Install the fan</a></li><li><a href="#282-control-the-fan" class="table-of-contents__link toc-highlight">2.8.2 Control the fan</a></li></ul></li><li><a href="#29-ethernet" class="table-of-contents__link toc-highlight">2.9 Ethernet</a></li><li><a href="#210-rtc-battery-connector" class="table-of-contents__link toc-highlight">2.10 RTC battery connector</a></li><li><a href="#211-m2-key-m-connector" class="table-of-contents__link toc-highlight">2.11 M.2 Key M connector</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2016 - 2025. Thundercomm America Corporation. All rights reserved. 渝ICP备16006224号-1 渝公网安备50011202504292</div></div></div></footer></div>
</body>
</html>